<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0080)http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#datetime -->
<HTML><HEAD><TITLE>Chapter0211.02Column Types</TITLE>
<META http-equiv=Content-Type content="text/html; charset=GB18030">
<META content="MSHTML 6.00.6000.16705" name=GENERATOR><LINK 
title="MySQL 5.1 Reference Manual" href="index.html" rel=start><LINK 
title="MySQL 5.1 Reference Manual" href="index.html" rel=up><LINK 
title="Chapter&nbsp;10.&nbsp;Character Set Support" href="charset.html" 
rel=prev><LINK title="Chapter&nbsp;12.&nbsp;Functions and Operators" 
href="functions.html" rel=next>
<STYLE>SPAN.GramE {
	
}
SPAN.quote {
	
}
TABLE.MsoNormalTable {
	FONT-SIZE: 10pt; FONT-FAMILY: "Times New Roman"; mso-style-parent: ""
}
</STYLE>
</HEAD>
<BODY>
<DIV class=chapter>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title><A name=column-types></A>第11章：列类型</H2></DIV></DIV></DIV>
<DIV class=toc>
<P><B>目录</B></P>
<DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#column-type-overview">11.1. 
  列类型概述</A></SPAN>
  <DD>
  <DL>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-type-overview">11.1.1. 
    数值类型概述</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#date-and-time-type-overview">11.1.2. 
    日期和时间类型概述</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#string-type-overview">11.1.3. 
    字符串类型概述</A></SPAN></DT></DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-types">11.2. 
  数值类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#date-and-time-types">11.3. 
  日期和时间类型</A></SPAN>
  <DD>
  <DL>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#datetime">11.3.1. 
    DATETIME、DATE和TIMESTAMP类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#time">11.3.2. 
    TIME类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#year">11.3.3. 
    YEAR类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#y2k-issues">11.3.4. 
    Y2K事宜和日期类型</A></SPAN></DT></DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#string-types">11.4. 
  String类型</A></SPAN>
  <DD>
  <DL>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#char">11.4.1. 
    CHAR和VARCHAR类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#binary-varbinary">11.4.2. 
    BINARY和VARBINARY类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#blob">11.4.3. 
    BLOB和TEXT类型<CODE class=literal></CODE></A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#enum">11.4.4. 
    ENUM类型</A></SPAN>
    <DT><SPAN class=section><A 
    href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#set">11.4.5. 
    SET类型</A></SPAN></DT></DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#storage-requirements">11.5. 
  列类型存储需求</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#choosing-types">11.6. 
  选择正确的列类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#other-vendor-column-types">11.7. 
  使用来自其他数据库引擎的列类型</A></SPAN></DT></DL></DIV>
<P 
style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>支持多种列类型：数值类型、日期<SPAN>/</SPAN>时间类型和字符串<SPAN>(</SPAN>字符<SPAN>)</SPAN>类型。本章首先对这些列类型进行了概述，然后更加详细地描述了各种列的类型，以及列类型存储需求的总结。概述很简单。关于具体列类型的详细信息应查阅详细的描述，例如指定值时允许使用的格式。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>支持处理空间数据的扩展名。关于空间类型的信息参见<A 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/spatial-extensions-in-mysql.html">第19章：</A><A 
title="Chapter&nbsp;19.&nbsp;Spatial Extensions in MySQL" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/spatial-extensions-in-mysql.html"><I>MySQL中的空间扩展</I></A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">几种列类型描述使用了下述惯例：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">表示最大显示宽度。最大有效显示宽度是<SPAN>255</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">适用于浮点和定点类型，并表示小数点后面的位数。最大可能的值是<SPAN>30</SPAN>，但不应大于<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN><SPAN>-2</SPAN>。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>方括号<SPAN>(</SPAN>‘<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">[</SPAN>’和‘<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">]</SPAN>’<SPAN>)</SPAN>表示可选部分。</P>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=column-type-overview></A>11.1.&nbsp;列类型概述</H2></DIV></DIV></DIV>
<DIV class=toc>
<DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-type-overview">11.1.1. 
  数值类型概述</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#date-and-time-type-overview">11.1.2. 
  日期和时间类型概述</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#string-type-overview">11.1.3. 
  字符串类型概述</A></SPAN></DT></DL></DIV><A class=indexterm name=id2844482></A>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A 
name=numeric-type-overview></A>11.1.1.&nbsp;数值类型概述</H3></DIV></DIV></DIV>
<P style="MARGIN: 0cm 0cm 0pt">下面为数值列类型的概述。详细信息参见<A 
title="11.2.&nbsp;Numeric Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-types">11.2节，“数值类型”</A>。列存储需求参见<A 
title="11.5.&nbsp;Column Type Storage Requirements" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#storage-requirements">11.5节，“列类型存储需求”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>指示最大显示宽度。最大有效显示宽度是<SPAN>255</SPAN>。显示宽度与存储大小或类型包含的值的范围无关，相关描述见<A 
title="11.2.&nbsp;Numeric Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-types">11.2节，“数值类型”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果为一个数值列指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ZEROFILL</SPAN>，<SPAN>MySQL</SPAN>自动为该列添加<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>属性。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SERIAL</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT UNSIGNED NOT NULL AUTO_INCREMENT 
UNIQUE</SPAN>的一个别名。</P>
<P style="MARGIN: 0cm 0cm 0pt">在整数列定义中，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SERIAL DEFAULT VALUE</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOT NULL AUTO_INCREMENT 
UNIQUE</SPAN>的一个别名。</P>
<P><STRONG><SPAN>警告：</SPAN></STRONG>应当清楚，当使用在整数值（其中一个是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>类型）之间使用减号时，结果是无符号。参见<A 
title="12.8.&nbsp;Cast Functions and Operators" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/functions.html#cast-functions">12.8节，“Cast函数和操作符”</A>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT[(<I>M</I>)]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">位字段类型。<SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>表示每个值的位数，范围为从<SPAN>1</SPAN>到<SPAN>64</SPAN>。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>被省略， 
默认为<SPAN>1</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT[(<I>M</I>)] 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">很小的整数。带符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-128</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">127</SPAN>。无符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">255</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BOOL</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BOOLEAN</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT(1)</SPAN>的同义词。<SPAN>zero</SPAN>值被视为假。非<SPAN>zero</SPAN>值视为真。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">在将来，将根据标准<SPAN>SQL</SPAN>引入完全布尔类型的处理。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SMALLINT[(<I>M</I>)] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">小的整数。带符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-32768</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">32767</SPAN>。无符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">65535</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT[(<I>M</I>)] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">中等大小的整数。带符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-8388608</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">8388607</SPAN>。无符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">16777215</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT[(<I>M</I>)] 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">普通大小的整数。带符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-2147483648</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2147483647</SPAN>。无符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4294967295</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INTEGER[(<I>M</I>)] 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">这是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN>的同义词。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT[(<I>M</I>)] 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">大整数。带符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-9223372036854775808</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9223372036854775807</SPAN>。无符号的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">18446744073709551615</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">应清楚<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>列的下述内容：</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>使用带符号的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>值进行所有算法，因此除了位函数，不应使用大于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9223372036854775807</SPAN><SPAN>(63</SPAN>位<SPAN>)</SPAN>的无符号的大整数<SPAN>! 
</SPAN>如果这样做，结果中的最后几位可能出错，这是由于将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>进行四舍五入时造成的错误。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt"><SPAN>MySQL</SPAN>可以在以下情况下处理<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>：</P>
<P style="MARGIN: 0cm 0cm 0pt 108pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Wingdings">§<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>当使用整数在一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>列保存大的无符号的值时。</P>
<P style="MARGIN: 0cm 0cm 0pt 108pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Wingdings">§<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MIN(<I>col_name</I>)</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAX(<I>col_name</I>)</SPAN>中，其中<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">col_name</SPAN></I></SPAN>指<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>列。</P>
<P style="MARGIN-LEFT: 108pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Wingdings">§<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>使用操作符<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">+</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">*</SPAN>等等<SPAN>)</SPAN>并且两个操作数均为整数时。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>总是可以使用一个字符串在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>列中保存严格整数值。在这种情况下，<SPAN>MySQL</SPAN>执行字符串<SPAN>-</SPAN>数字转换，其间不存在双精度表示。</P>
<P style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>当两个操作数均为整数值时，<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">-</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>+</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">*</SPAN><SPAN> </SPAN>操作符使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>算法。这说明如果乘两个大整数<SPAN>(</SPAN>或来自返回整数的函数<SPAN>)</SPAN>，当结果大于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9223372036854775807</SPAN>时，会得到意想不到的结果。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT[(<I>M</I>,<I>D</I>)] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">小<SPAN>(</SPAN>单精度<SPAN>)</SPAN>浮点数。允许的值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-3.402823466E+38</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-1.175494351E-38</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1.175494351E-38</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">3.402823466E+38</SPAN>。这些是理论限制，基于<SPAN>IEEE</SPAN>标准。实际的范围根据硬件或操作系统的不同可能稍微小些。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>是小数纵位数，<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>是小数点后面的位数。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>和<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>被省略，根据硬件允许的限制来保存值。单精度浮点数精确到大约<SPAN>7</SPAN>位小数位。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">如果指定<SPAN>UNSIGNED</SPAN>，不允许负值。</P>
<P 
style="MARGIN-LEFT: 36pt">使用浮点数可能会遇到意想不到的问题，因为在<SPAN>MySQL</SPAN>中的所有计算用双精度完成。参见<A 
title="A.5.7.&nbsp;Solving Problems with No Matching Rows" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/problems.html#no-matching-rows">A.5.7节，“解决与不匹配行有关的问题”</A>。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE[(<I>M</I>,<I>D</I>)] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">普通大小<SPAN>(</SPAN>双精度<SPAN>)</SPAN>浮点数。允许的值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-1.7976931348623157E+308</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-2.2250738585072014E-308</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2.2250738585072014E-308</SPAN>到 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1.7976931348623157E+308</SPAN>。这些是理论限制，基于<SPAN>IEEE</SPAN>标准。实际的范围根据硬件或操作系统的不同可能稍微小些。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>是小数总位数，<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>是小数点后面的位数。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>和<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>被省略，根据硬件允许的限制来保存值。双精度浮点数精确到大约<SPAN>15</SPAN>位小数位。</P>
<P style="MARGIN-LEFT: 36pt">如果指定<SPAN>UNSIGNED</SPAN>，不允许负值。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE 
PRECISION[(<I>M</I>,<I>D</I>)] [UNSIGNED] [ZEROFILL]</SPAN><SPAN>, </SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">REAL[(<I>M</I>,<I>D</I>)] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P style="MARGIN-LEFT: 36pt">为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>的同义词。除了：如果<SPAN>SQL</SPAN>服务器模式包括<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">REAL_AS_FLOAT</SPAN>选项，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">REAL</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>的同义词而不是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>的同义词。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT(<I>p</I>) 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">浮点数。<SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">p</SPAN></I></SPAN>表示精度（以位数表示），但<SPAN>MySQL</SPAN>只使用该值来确定是否结果列的数据类型为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">p</SPAN></I></SPAN>为从<SPAN>0</SPAN>到<SPAN>24</SPAN>，数据类型变为没有<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>或<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">p</SPAN></I></SPAN>为从<SPAN>25</SPAN>到<SPAN>53</SPAN>，数据类型变为没有<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>或<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>。结果列范围与本节前面描述的单精度<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>或双精度<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>数据类型相同。</P>
<P style="MARGIN-LEFT: 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT(<I>p</I>)</SPAN>语法与<SPAN>ODBC</SPAN>兼容。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL[(<I>M</I>[,<I>D</I>])] 
[UNSIGNED] [ZEROFILL]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">压缩的“<SPAN class=quote>严格</SPAN>”定点数。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>是小数位数<SPAN>(</SPAN>精度<SPAN>)</SPAN>的总数，<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>是小数点<SPAN>(</SPAN>标度<SPAN>)</SPAN>后面的位数。小数点和<SPAN>(</SPAN>负数<SPAN>)</SPAN>的‘<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-</SPAN>’符号不包括在<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>中。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>是<SPAN>0</SPAN>，则值没有小数点或分数部分。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>整数最大位数<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN><SPAN>)</SPAN>为<SPAN>65</SPAN>。支持的十进制数的最大位数<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">D</SPAN></I></SPAN><SPAN>)</SPAN>是<SPAN>30</SPAN>。如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN style="FONT-SIZE: 10pt">D</SPAN></I></SPAN>被省略， 
默认是<SPAN>0</SPAN>。如果<SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>被省略， 默认是<SPAN>10</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">如果指定<SPAN>UNSIGNED</SPAN>，不允许负值。</P>
<P style="MARGIN-LEFT: 36pt">所有<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>列的基本计算<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">+</SPAN><SPAN 
style="FONT-SIZE: 10pt">，<SPAN>-</SPAN>，<SPAN>*</SPAN>，<SPAN>/</SPAN></SPAN></SPAN><SPAN>)</SPAN>用<SPAN>65</SPAN>位精度完成。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEC[(<I>M</I>[,<I>D</I>])] [UNSIGNED] 
[ZEROFILL]</SPAN><SPAN>, </SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC[(<I>M</I>[,<I>D</I>])] 
[UNSIGNED] [ZEROFILL]</SPAN><SPAN>, </SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FIXED[(<I>M</I>[,<I>D</I>])] [UNSIGNED] 
[ZEROFILL]</SPAN></P>
<P style="MARGIN-LEFT: 36pt">是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>的同义词。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FIXED</SPAN>同义词适用于与其它服务器的兼容性。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A 
name=date-and-time-type-overview></A>11.1.2.&nbsp;日期和时间类型概述</H3></DIV></DIV></DIV>
<P style="MARGIN: 0cm 0cm 0pt">本节综合讨论了临时列类型。详细信息，参见<A 
title="11.3.&nbsp;Date and Time Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#date-and-time-types">11.3节，“日期和时间类型”</A>。列存储需求参见<A 
title="11.5.&nbsp;Column Type Storage Requirements" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#storage-requirements">11.5节，“列类型存储需求”</A>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">日期。支持的范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1000-01-01'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'9999-12-31'</SPAN>。<SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD'</SPAN>格式显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值，但允许使用字符串或数字为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>列分配值。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">日期和时间的组合。支持的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1000-01-01 00:00:00'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'9999-12-31 
23:59:59'</SPAN>。<SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD HH:MM:SS'</SPAN>格式显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>值，但允许使用字符串或数字为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>列分配值。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP[(<I>M</I>)]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">时间戳。范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1970-01-01 00:00:00'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2037</SPAN>年。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列用于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INSERT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UPDATE</SPAN>操作时记录日期和时间。如果你不分配一个值，表中的第一个<SPAN>TIMESTAMP</SPAN>列自动设置为最近操作的日期和时间。也可以通过分配一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值，将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列设置为当前的日期和时间。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值返回后显示为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD 
HH:MM:SS'</SPAN>格式的字符串，显示宽度固定为<SPAN>19</SPAN>个字符。如果想要获得数字值，应在<SPAN>TIMESTAMP 
</SPAN>列添加<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">+0</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><STRONG><SPAN>注释：</SPAN></STRONG><SPAN>MySQL 
4.1</SPAN>以前使用的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>格式在<SPAN>MySQL 
5.1</SPAN>中不支持；关于旧格式的信息参见<EM><SPAN style="FONT-FAMILY: 宋体">MySQL 4.1 
</SPAN><SPAN style="FONT-FAMILY: 宋体">参考手册</SPAN></EM>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">时间。范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'-838:59:59'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'838:59:59'</SPAN>。<SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'HH:MM:SS'</SPAN>格式显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值，但允许使用字符串或数字为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>列分配值。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR[(2|4)]</SPAN></P>
<P style="MARGIN-LEFT: 36pt">两位或四位格式的年。默认是四位格式。在四位格式中，允许的值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1901</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2155</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0000</SPAN>。在两位格式中，允许的值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">70</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">69</SPAN>，表示从<SPAN>1970</SPAN>年到<SPAN>2069</SPAN>年。<SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYY</SPAN><SPAN> </SPAN>格式显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值，但允许使用字符串或数字为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>列分配值。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A 
name=string-type-overview></A>11.1.3.&nbsp;字符串类型概述</H3></DIV></DIV></DIV>
<P style="MARGIN: 0cm 0cm 0pt">本节综合讨论了字符串列类型。详细信息参见<A 
title="11.4.&nbsp;String Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#string-types">11.4节，“String类型”</A>。列存储需求参见<A 
title="11.5.&nbsp;Column Type Storage Requirements" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#storage-requirements">11.5节，“列类型存储需求”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">在某些情况中，<SPAN>MySQL</SPAN>可以将一个字符串列更改为不同于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CREATE TABLE</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ALTER TABLE</SPAN>语句中所给出的类型。参见<A 
title="13.1.5.1.&nbsp;Silent Column Specification Changes" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/sql-syntax.html#silent-column-changes">13.1.5.1节，“沉寂的列规格变更”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL 5.1</SPAN>字符串数据类型包括部分在<SPAN>MySQL 
4.1</SPAN>之前的版本中没有的特性：</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>许多字符串数据类型的列定义可以包括指定字符集的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHARACTER 
SET</SPAN>属性，也可能包括校对规则。<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHARSET</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHARACTER 
SET</SPAN>的一个同义词）<SPAN>。</SPAN>这些属性适用于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类型、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>。例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>CREATE TABLE t</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>(</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;c1 CHAR(20) CHARACTER SET utf8,</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;c2 CHAR(20) CHARACTER SET latin1 COLLATE latin1_bin</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>);</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt 36pt">该表定义创建了一个名为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">c1</SPAN>的列，具有一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">utf8</SPAN>字符集和该字符集的默认 校对规则，和一个名为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">c2</SPAN>的列以及<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">latin1</SPAN>字符集和该字符集的二元 
校对规则。二元校对规则对大小写不敏感。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN>MySQL 
5.1</SPAN>用字符单位解释在字符列定义中的长度规范。<SPAN>(</SPAN>以前的一些<SPAN>MySQL</SPAN>版本以字节解释长度）<SPAN>。</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">对于<SPAN>CHAR</SPAN></SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类型，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性可以为列分配该列字符集的 校对规则。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>字符列的排序和比较基于分配给列的字符集。在以前的版本中，排序和比较基于服务器字符集的校对规则。对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN><SPAN> </SPAN>列，你可以用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性声明列让排序和 
校对规则使用当前的字符代码值而不是词汇顺序。</P>
<P style="MARGIN: 0cm 0cm 0pt">关于<SPAN>MySQL 5.1</SPAN>中字符集的支持，参见<A 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/charset.html">第10章：</A><A 
title="Chapter&nbsp;10.&nbsp;Character Set Support" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/charset.html"><I>字符集支持</I></A>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">[NATIONAL] 
CHAR(<I>M</I>) [BINARY| ASCII | UNICODE]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">固定长度字符串，当保存时在右侧填充空格以达到指定的长度。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>表示列长度。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>的范围是<SPAN>0</SPAN>到<SPAN>255</SPAN>个字符。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><STRONG><SPAN>注释：</SPAN></STRONG>当检索<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>值时尾部空格被删除。</P>
<P style="MARGIN-LEFT: 36pt">如果想要将某个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>的长度设为大于<SPAN>255</SPAN>，执行的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CREATE TABLE</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ALTER TABLE</SPAN>语句将失败并提示错误：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE c1 (col1 INT, col2 CHAR(500));</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>ERROR 1074 (42000): Column length too big for column 'col' (max = 255); use BLOB or TEXT instead</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SHOW CREATE TABLE c1;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>ERROR 1146 (42S02): Table 'test.c1' doesn't exist</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHARACTER</SPAN>的简写。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NATIONAL 
CHAR</SPAN><SPAN>(</SPAN>或其等效短形式<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NCHAR</SPAN><SPAN>)</SPAN>是标准的定义<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>列应使用 
默认字符集的<SPAN>SQL</SPAN>方法。这在<SPAN>MySQL</SPAN>中为默认值。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性是指定列字符集的二元 
校对规则的简写。排序和比较基于数值字符值。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">列类型<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR BYTE</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR BINARY</SPAN>的一个别名。这是为了保证兼容性。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ASCII</SPAN>属性。它分配<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">latin1</SPAN>字符集。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNICODE</SPAN>属性。它分配<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ucs2</SPAN>字符集。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN>MySQL</SPAN>允许创建类型<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(0)</SPAN>的列。这主要用于必须有一个列但实际上不使用值的旧版本的应用程序相兼容。当你需要只能取两个值的列时也很好：没有定义为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOT NULL</SPAN>的一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(0)</SPAN>列只占用一位，只可以取值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN><SPAN>(</SPAN>空字符串<SPAN>)</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">这是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(1)</SPAN>的同义词。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">[NATIONAL] 
VARCHAR(<I>M</I>) [BINARY]</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">变长字符串。<SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN><SPAN> </SPAN>表示最大列长度。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>的范围是<SPAN>0</SPAN>到<SPAN>65,535</SPAN>。<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>的最大实际长度由最长的行的大小和使用的字符集确定。最大<EM><SPAN 
style="FONT-FAMILY: 宋体">有效</SPAN></EM>长度是<SPAN>65,532</SPAN>字节）<SPAN>。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><STRONG><SPAN>注释：</SPAN></STRONG><SPAN>MySQL 
5.1</SPAN>遵从标准<SPAN>SQL</SPAN>规范，并且不删除<SPAN>VARCHAR</SPAN>值的尾部空格。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>是字符<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARYING</SPAN>的简写。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性是指定列的字符集的二元 
校对规则的简写。排序和比较基于数值字符值。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>保存时用一个字节或两个字节长的前缀<SPAN>+</SPAN>数据。如果<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列声明的长度大于<SPAN>255</SPAN>，长度前缀是两个字节。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY(<I>M</I>)</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>类型类似于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>类型，但保存二进制字节字符串而不是非二进制字符串。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY(<I>M</I>)</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>类型类似于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>类型，但保存二进制字节字符串而不是非二进制字符串。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYBLOB</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>255(2<SUP>8</SUP></SPAN>C<SPAN>1)</SPAN>字节的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYTEXT</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>255(2<SUP>8</SUP></SPAN>C<SPAN>1)</SPAN>字符的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB[(<I>M</I>)]</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>65,535(2<SUP>16</SUP></SPAN>C<SPAN>1)</SPAN>字节的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">可以给出该类型的可选长度<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>。如果给出，则<SPAN>MySQL</SPAN>将列创建为最小的但足以容纳<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>字节长的值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>类型。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT[(<I>M</I>)]</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>65,535(2<SUP>16</SUP></SPAN>C<SPAN>1)</SPAN>字符的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">可以给出可选长度<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>。则<SPAN>MySQL</SPAN>将列创建为最小的但足以容纳<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>字符长的值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类型。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMBLOB</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>16,777,215(2<SUP>24</SUP></SPAN>C<SPAN>1)</SPAN>字节的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMTEXT</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>16,777,215(2<SUP>24</SUP></SPAN>C<SPAN>1)</SPAN>字符的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGBLOB</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>4,294,967,295</SPAN>或<SPAN>4GB(2<SUP>32</SUP></SPAN>C<SPAN>1)</SPAN>字节的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列。<SPAN>LONGBLOB</SPAN>列的最大<EM><SPAN 
style="FONT-FAMILY: 宋体">有效</SPAN></EM><SPAN>(</SPAN>允许的<SPAN>)</SPAN>长度取决于客户端<SPAN>/</SPAN>服务器协议中配置最大包大小和可用的内存。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGTEXT</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">最大长度为<SPAN>4,294,967,295</SPAN>或<SPAN>4GB(2<SUP>32</SUP></SPAN>C<SPAN>1)</SPAN>字符的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGTEXT</SPAN>列的最大<EM><SPAN 
style="FONT-FAMILY: 宋体">有效</SPAN></EM><SPAN>(</SPAN>允许的<SPAN>)</SPAN>长度取决于客户端<SPAN>/</SPAN>服务器协议中配置最大包大小和可用的内存。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM('<I>value1</I>','<I>value2</I>',...)</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">枚举类型。只能有一个值的字符串，从值列<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>value1</I>'</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>value2</I>'</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">...</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>中或特殊 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN>错误值中选出。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列最多可以有<SPAN>65,535</SPAN>个截然不同的值。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值在内部用整数表示。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET('<I>value1</I>','<I>value2</I>',...)</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">一个设置。字符串对象可以有零个或多个值，每个值必须来自列值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>value1</I>'</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>value2</I>'</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">...SET</SPAN>列最多可以有<SPAN>64</SPAN>个成员。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值在内部用整数表示。 </P></DIV></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=numeric-types></A>11.2.&nbsp;数值类型</H2></DIV></DIV></DIV>
<P 
style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>支持所有标准<SPAN>SQL</SPAN>数值数据类型。这些类型包括严格数值数据类型<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">INTEGER</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>SMALLINT</SPAN>、<SPAN>DECIMAL</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN><SPAN>)</SPAN>，以及近似数值数据类型<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">REAL</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE 
PRECISION</SPAN><SPAN>)</SPAN>。关键字<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INTEGER</SPAN>的同义词，关键字<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEC</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>的同义词。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT</SPAN>数据类型保存位字段值，并且支持<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MyISAM</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEMORY</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">InnoDB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BDB</SPAN>表。</P>
<P>作为<SPAN>SQL</SPAN>标准的扩展，<SPAN>MySQL</SPAN>也支持整数类型<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">TINYINT</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>MEDIUMINT</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>。下面的表显示了需要的每个整数类型的存储和范围。</P>
<TABLE id=table1 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">字节</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">最小值</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">最大值</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">(</SPAN><SPAN 
      style="FONT-FAMILY: 宋体">带符号的<SPAN>/</SPAN>无符号的<SPAN>)</SPAN></SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">(</SPAN><SPAN 
      style="FONT-FAMILY: 宋体">带符号的<SPAN>/</SPAN>无符号的<SPAN>)</SPAN></SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-128</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">127</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">255</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SMALLINT</SPAN></P></TD>
    <TD>
      <P><SPAN>2</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-32768</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">32767</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">65535</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-8388608</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">8388607</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN></P></TD>
    <TD>
      <P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">16777215</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN></P></TD>
    <TD>
      <P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-2147483648</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2147483647</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4294967295</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN></P></TD>
    <TD>
      <P><SPAN>8</SPAN></P></TD>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-9223372036854775808</SPAN></P></TD>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9223372036854775807</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN></SPAN>&nbsp;</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN></P></TD>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">18446744073709551615</SPAN></P></TD></TR></TBODY></TABLE>
<P 
style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>还支持选择在该类型关键字后面的括号内指定整数值的显示宽度<SPAN>(</SPAN>例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT(4)</SPAN><SPAN>)</SPAN>。该可选显示宽度规定用于显示宽度小于指定的列宽度的值时从左侧填满宽度。</P>
<P style="MARGIN: 0cm 0cm 0pt">显示宽度并不限制可以在列内保存的值的范围，也不限制超过列的指定宽度的值的显示。</P>
<P>当结合可选扩展属性<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ZEROFILL</SPAN>使用时， 
默认补充的空格用零代替。例如，对于声明为<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT(5) 
ZEROFILL</SPAN>的列，值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4</SPAN>检索为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00004</SPAN>。请注意如果在整数列保存超过显示宽度的一个值，当<SPAN>MySQL</SPAN>为复杂联接生成临时表时会遇到问题，因为在这些情况下<SPAN>MySQL</SPAN>相信数据适合原列宽度。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">所有整数类型可以有一个可选<SPAN>(</SPAN>非标准<SPAN>)</SPAN>属性<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>。当你想要在列内只允许非负数和该列需要较大的上限数值范围时可以使用无符号值。</P>
<P style="MARGIN: 0cm 0cm 0pt">浮点和定点类型也可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>。同数类型，该属性防止负值保存到列中。然而，与整数类型不同的是，列值的上范围保持不变。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果为一个数值列指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ZEROFILL</SPAN>，<SPAN>MySQL</SPAN>自动为该列添加<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>属性。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">对于浮点列类型，在<SPAN>MySQL</SPAN>中单精度值使用<SPAN>4</SPAN>个字节，双精度值使用<SPAN>8</SPAN>个字节。</P>
<P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>类型用于表示近似数值数据类型。<SPAN>SQL</SPAN>标准允许在关键字<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>后面的括号内选择用位指定精度<SPAN>(</SPAN>但不能为指数范围<SPAN>)</SPAN>。<SPAN>MySQL</SPAN>还支持可<SPAN 
style="COLOR: windowtext">选的只用于确定存储大小的精度规定。<SPAN>0</SPAN>到<SPAN>23</SPAN>的精度对应</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">FLOAT</SPAN><SPAN 
style="COLOR: windowtext">列的<SPAN>4</SPAN>字节单精度。<SPAN>24</SPAN>到<SPAN>53</SPAN>的精度对应</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">DOUBLE</SPAN><SPAN 
style="COLOR: windowtext">列的<SPAN>8</SPAN>字节双精度。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN style="COLOR: windowtext">MySQL</SPAN><SPAN 
style="COLOR: windowtext">允许使用非标准语法：</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">FLOAT(<I>M</I>,<I>D</I>)</SPAN><SPAN 
style="COLOR: windowtext">或</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">REAL(<I>M</I>,<I>D</I>)</SPAN><SPAN 
style="COLOR: windowtext">或</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">DOUBLE 
PRECISION(<I>M</I>,<I>D</I>)</SPAN><SPAN 
style="COLOR: windowtext">。这里，“</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">(<I>M</I>,<I>D</I>)</SPAN><SPAN 
style="COLOR: windowtext">”表示该值一共显示</SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext">M</SPAN></I></SPAN><SPAN 
style="COLOR: windowtext">位整数，其中</SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext">D</SPAN></I></SPAN><SPAN 
style="COLOR: windowtext">位位于小数点后面。例如，定义为</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">FLOAT(7,4)</SPAN><SPAN 
style="COLOR: windowtext">的一个列可以显示为</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">-999.9999</SPAN><SPAN 
style="COLOR: windowtext">。<SPAN>MySQL</SPAN>保存值时进行四舍五入，因此如果在</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">FLOAT(7,4)</SPAN><SPAN 
style="COLOR: windowtext">列内插入</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">999.00009</SPAN><SPAN 
style="COLOR: windowtext">，近似结果是</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">999.0001</SPAN><SPAN 
style="COLOR: windowtext">。</SPAN></P>
<P><SPAN style="COLOR: windowtext">MySQL</SPAN><SPAN 
style="COLOR: windowtext">将</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">DOUBLE</SPAN><SPAN 
style="COLOR: windowtext">视为</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">DOUBLE 
PRECISION</SPAN><SPAN style="COLOR: windowtext">(</SPAN><SPAN 
style="COLOR: windowtext">非标准扩展<SPAN>)</SPAN>的同义词。<SPAN>MySQL</SPAN>还将</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">REAL</SPAN><SPAN 
style="COLOR: windowtext">视为</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">DOUBLE 
PRECISION</SPAN><SPAN style="COLOR: windowtext">(</SPAN><SPAN 
style="COLOR: windowtext">非标准扩展<SPAN>)</SPAN>的同义词，除非<SPAN>SQL</SPAN>服务器模式包括</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">REAL_AS_FLOAT</SPAN><SPAN 
style="COLOR: windowtext">选项。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt">为了保证最大可能的可移植性，需要使用近似数值数据值存储的代码应使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE PRECISION</SPAN>，不规定精度或位数。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN>类型在<SPAN>MySQL</SPAN>中视为相同的类型。它们用于保存必须为确切精度的值，例如货币数据。当声明该类型的列时，可以<SPAN>(</SPAN>并且通常要<SPAN>)</SPAN>指定精度和标度；例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>salary DECIMAL(5,2)</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">在该例子中，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">5</SPAN>是精度，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2</SPAN>是标度。精度表示保存值的主要位数，标度表示小数点后面可以保存的位数。</P>
<P style="MARGIN: 0cm 0cm 0pt">在<SPAN>MySQL 5.1</SPAN>中以二进制格式保存<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN>值。</P>
<P style="MARGIN: 0cm 0cm 0pt">标准<SPAN>SQL</SPAN>要求<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">salary</SPAN>列能够用<SPAN>5</SPAN>位整数位和两位小数保存任何值。因此，在这种情况下可以保存在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">salary</SPAN>列的值的范围是从<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-999.99</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">999.99</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">在标准<SPAN>SQL</SPAN>中，语法<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL(<I>M</I>)</SPAN>等价于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL(<I>M</I>,0)</SPAN>。同样，语法<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>等价于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL(<I>M</I>,0)</SPAN>，可以通过计算确定<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>的值。在<SPAN>MySQL 5.1</SPAN>中支持<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN>数据类型的变量形式。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>默认值是<SPAN>10</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN>的最大位数是<SPAN>65</SPAN>，但具体的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN>列的实际范围受具体列的精度或标度约束。如果此类列分配的值小数点后面的位数超过指定的标度允许的范围，值被转换为该标度。<SPAN>(</SPAN>具体操作与操作系统有关，但一般结果均被截取到允许的位数）<SPAN>。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT</SPAN>数据类型可用来保存位字段值。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT(<I>M</I>)</SPAN>类型允许存储<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>位值。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>范围为<SPAN>1</SPAN>到<SPAN>64</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">要指定位值，可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">b'<I>value</I>'</SPAN>符。<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">value</SPAN></I></SPAN>是一个用<SPAN>0</SPAN>和<SPAN>1</SPAN>编写的二进制值。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">b'111'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">b'100000000'</SPAN>分别表示<SPAN>7</SPAN>和<SPAN>128</SPAN>。参见<A 
title="9.1.5.&nbsp;Bit-Field Values" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/language-structure.html#bit-field-values">9.1.5节，“位字段值”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT(M)</SPAN>列分配的值的长度小于<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>位，在值的左边用<SPAN>0</SPAN>填充。例如，为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT(6)</SPAN>列分配一个值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">b'101'</SPAN>，其效果与分配<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">b'000101'</SPAN>相同。</P>
<P>当要在一个数值列内保存一个超出该列允许范围的值时，<SPAN>MySQL</SPAN>的操作取决于此时有效的<SPAN>SQL</SPAN>模式。如果模式未设置，<SPAN>MySQL</SPAN>将值裁剪到范围的相应端点，并保存裁减好的值。但是，如果模式设置为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">traditional</SPAN><SPAN>(</SPAN>“严格<SPAN 
class=quote>模式</SPAN>”<SPAN>)</SPAN>，超出范围的值将被拒绝并提示错误，并且根据<SPAN>SQL</SPAN>标准插入会失败。参见<A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN>列是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNSIGNED</SPAN>，列范围的大小相同，但其端点会变为到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4294967295</SPAN>。如果你试图保存<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">-9999999999</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9999999999</SPAN>，以非严格模式保存到列中的值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4294967296</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="COLOR: windowtext">如果在浮点或定点列中分配的值超过指定<SPAN>(</SPAN>或默认<SPAN>)</SPAN>精度和标度规定的范围，<SPAN>MySQL</SPAN>以非严格模式保存表示范围相应端点的值。</SPAN></P>
<P><SPAN style="COLOR: windowtext">当<SPAN>MySQL</SPAN>没有工作在严格模式时，对于</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt; COLOR: windowtext">ALTER 
TABLE</SPAN><SPAN style="FONT-SIZE: 10pt; COLOR: windowtext">、<SPAN>LOAD DATA 
INFILE</SPAN>、<SPAN>UPDATE</SPAN></SPAN></SPAN><SPAN 
style="COLOR: windowtext">和多行</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">INSERT</SPAN><SPAN 
style="COLOR: windowtext">语句，由于裁剪发生的转换将报告为警告。当<SPAN>MySQL</SPAN>工作在严格模式时，这些语句将失败，并且部分或全部值不会插入或更改，取决于是否表为事务表和其它因素。详情参见</SPAN><A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=date-and-time-types></A>11.3.&nbsp;日期和时间类型</H2></DIV></DIV></DIV>
<DIV class=toc>
<DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#datetime">11.3.1. 
  DATETIME、DATE和TIMESTAMP类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#time">11.3.2. 
  TIME类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#year">11.3.3. 
  YEAR类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#y2k-issues">11.3.4. 
  Y2K事宜和日期类型</A></SPAN></DT></DL></DIV><A class=indexterm name=id2849193></A><A 
class=indexterm name=id2849203></A>
<P>表示时间值的<SPAN>DATE</SPAN>和时间类型为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>、<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">DATE</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>TIMESTAMP</SPAN>、<SPAN>TIME</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>。每个时间类型有一个有效值范围和一个“<SPAN 
class=quote>零</SPAN>”值，当指定不合法的<SPAN>MySQL</SPAN>不能表示的值时使用“<SPAN 
class=quote>零</SPAN>”值。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>类型有专有的自动更新特性，将在后面描述。</P>
<P>如果试图插入一个不合法的日期，<SPAN>MySQL</SPAN>将给出警告或错误。可以使用<SPAN>ALLOW_INVALID_DATES 
SQL</SPAN>模式让<SPAN>MySQL</SPAN>接受某些日期，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1999-11-31'</SPAN>。当你想要保存一个“<SPAN 
class=quote>可能错误的</SPAN>”用户已经在数据库中指定<SPAN>(</SPAN>例如，以<SPAN>web</SPAN>形式<SPAN>)</SPAN>用于将来处理的值时很有用。在这种模式下，<SPAN>MySQL</SPAN>只验证月范围为从<SPAN>0</SPAN>到<SPAN>12</SPAN>，日范围为从<SPAN>0</SPAN>到<SPAN>31</SPAN>。这些范围可以包括零，因为<SPAN>MySQL</SPAN>允许在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>列保存日<SPAN>/</SPAN>月和日是零的日期。这在应用程序需要保存一个你不知道确切日期的生日时非常有用。在这种情况下，只需要将日期保存为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1999-00-00'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1999-01-00'</SPAN>。如果保存此类日期，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE_SUB()</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE_ADD</SPAN>等需要完整日期的函数不会得到正确的结果。<SPAN>(</SPAN>如果你不想在日期中出现零，可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NO_ZERO_IN_DATE</SPAN><SPAN> 
SQL</SPAN>模式<SPAN>)</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>还允许将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00'</SPAN>保存为“伪日期”<SPAN>(</SPAN>如果不使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NO_ZERO_DATE</SPAN><SPAN> 
SQL</SPAN>模式<SPAN>)</SPAN>。这在某些情况下比使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值更方便<SPAN>(</SPAN>并且数据和索引占用的空间更小<SPAN>)</SPAN>。</P>
<P>将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">sql_mode</SPAN>系统变量设置为相应模式值，可以更确切你想让<SPAN>MySQL</SPAN>支持哪种日期。参见<A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt">当使用日期和时间类型时应记住以下几点：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN>MySQL</SPAN>以标准输出格式检索给定日期或时间类型的值，但它尽力解释你指定的各种输入值格式<SPAN>(</SPAN>例如，当你指定一个分配给或与日期或时间类型进行比较的值时<SPAN>)</SPAN>。只支持下面章节中描述的格式。期望你能提供有效值。如果你使用其它格式的值会发生意想不到的结果。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>包含两位年值的日期会令人模糊，因为世纪不知道。<SPAN>MySQL</SPAN>使用以下规则解释两位年值：</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">70-99</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970-1999</SPAN>。</P>
<P style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00-69</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2000-2069</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>尽管<SPAN>MySQL</SPAN>尝试解释几种格式的值，日期总是以年<SPAN>-</SPAN>月<SPAN>-</SPAN>日顺序<SPAN>(</SPAN>例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98-09-04'</SPAN><SPAN>)</SPAN>，而不是其它地方常用的月<SPAN>-</SPAN>日<SPAN>-</SPAN>年或日<SPAN>-</SPAN>月<SPAN>-</SPAN>年顺序<SPAN>(</SPAN>例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'09-04-98'</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'04-09-98'</SPAN><SPAN>)</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果值用于数值上下文中，<SPAN>MySQL</SPAN>自动将日期或时间类型的值转换为数字，反之亦然。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>当<SPAN> 
MySQL</SPAN>遇到一个日期或时间类型的超出范围或对于该类型不合法的值时<SPAN>(</SPAN>如本节开始所描述<SPAN>)</SPAN>，它将该值转换为该类的“<SPAN 
class=quote>零</SPAN>”值。一个例外是超出范围的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值被裁剪到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>范围的相应端点。</P>
<P style="MARGIN-LEFT: 36pt">下面的表显示了各类“<SPAN 
class=quote>零</SPAN>”值的格式。请注意如果启用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NO_ZERO_DATE</SPAN><SPAN> 
SQL</SPAN>模式，使用这些值会产生警告。</P>
<TABLE id=table2 style="MARGIN-LEFT: 36pt" cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">列类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">“</SPAN></STRONG><SPAN 
      class=quote><B>零</B></SPAN><STRONG><SPAN 
      style="FONT-FAMILY: 宋体">”值</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00 
      00:00:00'</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN></P></TD>
    <TD>
      <P><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00'</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN></P></TD>
    <TD>
      <P><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00000000000000</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0000</SPAN></P></TD></TR></TBODY></TABLE>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>“<SPAN 
class=quote>零</SPAN>”值是特殊值，但你可以使用表内显示的值显式保存或引用它们。你也可以使用值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>来保存或引用，写起来更容易。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN>MyODBC</SPAN>中使用的“<SPAN 
class=quote>零</SPAN>”日期或时间值在<SPAN>MyODBC 2.50.12</SPAN>和以上版本中被自动转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>，因为<SPAN>ODBC</SPAN>不能处理此类值。</P>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A 
name=datetime></A>11.3.1.&nbsp;DATETIME、DATE和TIMESTAMP类型</H3></DIV></DIV></DIV>
<DIV class=toc>
<DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#timestamp-4-1">11.3.1.1. 
  自MySQL 4.1以来的TIMESTAMP属性</A></SPAN></DT></DL></DIV><A class=indexterm 
name=id2849637></A><A class=indexterm name=id2849646></A><A class=indexterm 
name=id2849655></A><A class=indexterm name=id2849664></A><A class=indexterm 
name=id2849677></A><A class=indexterm name=id2849689></A>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">DATETIME</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>DATE</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>类型是相关的。该节描述了它们的特征，它们的相似点和不同点。</P>
<P style="MARGIN: 0cm 0cm 0pt">当你需要同时包含日期和时间信息的值时则使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>类型。<SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD 
HH:MM:SS'</SPAN>格式检索和显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>值。支持的范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1000-01-01 00:00:00'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'9999-12-31 
23:59:59'</SPAN>。<SPAN>(</SPAN>“<SPAN 
class=quote>支持</SPAN>”表示尽管先前的值可能工作，但没有保证<SPAN>)</SPAN>。</P>
<P>当你只需要日期值而不需要时间部分时应使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>类型。<SPAN>MySQL</SPAN>用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD'</SPAN>格式检索和显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值。支持的范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1000-01-01'</SPAN>到 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'9999-12-31'</SPAN>。 </P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列类型的属性不固定，取决于<SPAN>MySQL</SPAN>版本和服务器运行的<SPAN>SQL</SPAN>模式。这些属性将在本节后面描述。</P>
<P style="MARGIN: 0cm 0cm 0pt">可以使用任何常见格式指定<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">DATETIME</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>DATE</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD 
HH:MM:SS'</SPAN>或<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YY-MM-DD 
HH:MM:SS'</SPAN>格式的字符串。允许“<SPAN 
class=quote>不严格</SPAN>”语法：任何标点符都可以用做日期部分或时间部分之间的间割符。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98-12-31 11:30:45'</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98.12.31 11+30+45'</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98/12/31 11*30*45'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98@12@31 11^30^45'</SPAN>是等价的。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYY-MM-DD'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YY-MM-DD'</SPAN>格式的字符串。这里也允许使用“不严格的”语法。例如，<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">'98-12-31'</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>'98.12.31'</SPAN>、<SPAN>'98/12/31'</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'98@12@31'</SPAN>是等价的。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYYMMDDHHMMSS'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYMMDDHHMMSS'</SPAN>格式的没有间割符的字符串，假定字符串对于日期类型是有意义的。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'19970523091528'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'970523091528'</SPAN>被解释为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1997-05-23 09:15:28'</SPAN>，但<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'971122129015'</SPAN>是不合法的<SPAN>(</SPAN>它有一个没有意义的分钟部分<SPAN>)</SPAN>，将变为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00 00:00:00'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYYYMMDD'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'YYMMDD'</SPAN>格式的没有间割符的字符串，假定字符串对于日期类型是有意义的。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'19970523'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'970523'</SPAN>被解释为 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1997-05-23'</SPAN>，但<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'971332'</SPAN>是不合法的<SPAN>(</SPAN>它有一个没有意义的月和日部分<SPAN>)</SPAN>，将变为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYYMMDDHHMMSS</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYMMDDHHMMSS</SPAN>格式的数字，假定数字对于日期类型是有意义的。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">19830905132800</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">830905132800</SPAN>被解释为 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1983-09-05 13:28:00'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYYMMDD</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYMMDD</SPAN>格式的数字，假定数字对于日期类型是有意义的。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">19830905</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">830905</SPAN>被解释为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1983-09-05'</SPAN>。</P>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>函数返回的结果，其值适合<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">DATETIME</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>DATE</SPAN></SPAN></SPAN>或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>上下文，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOW()</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_DATE</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">无效<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值被转换为相应类型的“<SPAN 
class=quote>零</SPAN>”值<SPAN>(</SPAN><SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">'0000-00-00 00:00:00'</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>'0000-00-00'</SPAN></SPAN></SPAN>或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00000000000000</SPAN><SPAN>)</SPAN>。</P>
<P>对于包括日期部分间割符的字符串值，如果日和月的值小于<SPAN>10</SPAN>，不需要指定两位数。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1979-6-9'</SPAN>与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1979-06-09'</SPAN>是相同的。同样，对于包括时间部分间割符的字符串值，如果时、分和秒的值小于<SPAN>10</SPAN>，不需要指定两位数。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1979-10-30 1:2:3'</SPAN>与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1979-10-30 01:02:03'</SPAN>相同。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">数字值应为<SPAN>6</SPAN>、<SPAN>8</SPAN>、<SPAN>12</SPAN>或者<SPAN>14</SPAN>位长。如果一个数值是<SPAN>8</SPAN>或<SPAN>14</SPAN>位长，则假定为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYYMMDD</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYYMMDDHHMMSS</SPAN>格式，前<SPAN>4</SPAN>位数表示年。如果数字 
是<SPAN>6</SPAN>或<SPAN>12</SPAN>位长，则假定为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYMMDD</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYMMDDHHMMSS</SPAN>格式，前<SPAN>2</SPAN>位数表示年。其它数字被解释为仿佛用零填充到了最近的长度。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">指定为非限定符字符串的值使用给定的长度进行解释。如果字符串为<SPAN>8</SPAN>或<SPAN>14</SPAN>字符长，前<SPAN>4</SPAN>位数表示年。否则，前<SPAN>2</SPAN>位数表示年。从左向右解释字符串内出现的各部分，以发现年、月、日、小时、分和秒值。这说明不应使用少于<SPAN>6</SPAN>字符的字符串。例如，如果你指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'9903'</SPAN>，认为它表示<SPAN>1999</SPAN>年<SPAN>3</SPAN>月，<SPAN>MySQL</SPAN>将在你的表内插入一个“<SPAN 
class=quote>零</SPAN>”日期值。这是因为年和月值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">99</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">03</SPAN>，但日部分完全丢失，因此该值不是一个合法的日期。但是，可以明显指定一个零值来代表缺少的月或日部分。例如，可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'990300'</SPAN>来插入值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1999-03-00'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">在一定程度上，可以将一个日期类型的值分配给一个不同的日期类型。但是，值可能会更改或丢失一些信息：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果你为一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>对象分配一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值，结果值的时间部分被设置为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>，因为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值未包含时间信息。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果你为一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>对象分配一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值，结果值的时间部分被删除，因为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值未包含时间信息。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>记住尽管可以使用相同的格式指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值，不同类型的值的范围却不同。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值不能早于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970</SPAN>或晚于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2037</SPAN>。这说明一个日期，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1968-01-01'</SPAN>，虽然对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN>值是有效的，但对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值却无效，如果分配给这样一个对象将被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">当指定日期值时请注意某些缺陷：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>指定为字符串的值允许的非严格格式可能会欺骗。例如，值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'10:11:12'</SPAN>由于‘<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">:</SPAN>’间割符看上去可能象时间值，但如果用于日期上下文值则被解释为年<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'2010-11-12'</SPAN>。值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'10:45:15'</SPAN>被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00'</SPAN>因为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'45'</SPAN>不是合法月。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>在非严格模式，<SPAN>MySQL</SPAN>服务器只对日期的合法性进行基本检查：年、月和日的范围分别是<SPAN>1000</SPAN>到<SPAN>9999</SPAN>、<SPAN>00</SPAN>到<SPAN>12</SPAN>和<SPAN>00</SPAN>到<SPAN>31</SPAN>。任何包含超出这些范围的部分的日期被转换成<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00'</SPAN>。请注意仍然允许你保存非法日期，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'2002-04-31'</SPAN>。要想确保不使用严格模式时日期有效，应检查应用程序。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">在严格模式，非法日期不被接受，并且不转换。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">详细信息参见<A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>包含两位年值的日期会令人模糊，因为世纪不知道。<SPAN>MySQL</SPAN>使用以下规则解释两位年值：</P>
<P style="MARGIN-LEFT: 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00-69</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2000-2069</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">70-99</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970-1999</SPAN>。</P>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H4 class=title><A name=timestamp-4-1></A>11.3.1.1.&nbsp;自MySQL 
4.1以来的TIMESTAMP属性</H4></DIV></DIV></DIV>
<P style="MARGIN: 0cm 0cm 0pt"><STRONG><SPAN>注释：</SPAN><SPAN 
style="FONT-WEIGHT: normal; FONT-FAMILY: 宋体">在</SPAN></STRONG>旧版本的<SPAN>MySQL</SPAN>中<SPAN>(4.1</SPAN>之前<SPAN>)</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列类型的属性在许多方面于本节所描述的大大不同。如果你需要对旧的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>数据进行转化以便在<SPAN>MySQL 
5.1</SPAN>中工作，详情请参见<EM><SPAN style="FONT-FAMILY: 宋体">MySQL 4.1 </SPAN><SPAN 
style="FONT-FAMILY: 宋体">参考手册</SPAN></EM>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列的显示格式与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>列相同。换句话说，显示宽度固定在<SPAN>19</SPAN>字符，并且格式为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYY-MM-DD HH:MM:SS</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>服务器也可以以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式运行。当服务器以该模式运行时，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>相等。也就是说，如果创建表时服务器以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式运行，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列创建为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>列。结果是，该列使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>显示格式，有相同的值范围，并且没有自动对当前的日期和时间进行初始化或更新。</P>
<P style="MARGIN: 0cm 0cm 0pt">要想启用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式，在启动服务器时使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">--sql-mode=MAXDB</SPAN>服务器选项或在运行时通过设置全局<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">sql_mode</SPAN>变量将<SPAN>SQL</SPAN>服务器模式设置为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SET GLOBAL sql_mode=MAXDB</SPAN><SPAN style="FONT-SIZE: 12pt">；</SPAN></B></SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">客户端可以按照下面方法让服务器为它的连接以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式运行：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SET SESSION sql_mode=MAXDB;</SPAN></B></SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN></SPAN>&nbsp;</P>
<P 
style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>不接受在日或月列包括一个零或包含非法日期值的时间戳值。该规则的唯一例外是特殊值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0000-00-00 00:00:00'</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">你可以非常灵便地确定什么时候初始化和更新<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>和对哪些列进行初始化和更新：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>你可以将当前的时间戳指定为默认值和自动更新的值。但只能选择一个，或者两者都不选。<SPAN>(</SPAN>不可能一个列选择一个行为而另一个列选择另一个行为）<SPAN>。</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>你可以指定哪个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列自动初始化或更新为当前的日期和时间。不再需要为第<SPAN>1</SPAN>个<SPAN>TIMESTAMP</SPAN>列。</P>
<P style="MARGIN: 0cm 0cm 0pt">请注意下面讨论所信息只适用于创建时未启用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式的表的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列。<SPAN>(</SPAN>如上所述，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAXDB</SPAN>模式使列创建为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>列）<SPAN>。</SPAN>控制<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列的初始化和更新的规则如下所示：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果一个表内的第<SPAN>1</SPAN>个<SPAN>TIMESTAMP</SPAN>列指定为一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">DEFAULT</SPAN>值，则不能忽略。 
默认值可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIMESTAMP</SPAN>或常量日期和时间值。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT 
NULL</SPAN>与第<SPAN>1</SPAN>个<EM><SPAN 
style="FONT-FAMILY: 宋体">TIMESTAMP</SPAN></EM><SPAN> </SPAN>列的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">DEFAULT 
CURRENT_TIMESTAMP</SPAN>相同。对于其它<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT NULL</SPAN>被视为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">DEFAULT 0</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>表内的任何一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列可以设置为自动初始化为当前时间戳和<SPAN>/</SPAN>或更新。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>在<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CREATE 
TABLE</SPAN>语句中，可以用下面的任何一种方式声明第<SPAN>1</SPAN>个<SPAN>TIMESTAMP</SPAN>列：</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>用<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT 
CURRENT_TIMESTAMP</SPAN>和<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON 
UPDATE CURRENT_TIMESTAMP</SPAN>子句，列为默认值使用当前的时间戳，并且自动更新。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>不使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON UPDATE</SPAN>子句，与<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">DEFAULT 
CURRENT_TIMESTAMP</SPAN><SPAN style="FONT-SIZE: 10pt"> ON 
UPDATECURRENT_TIMESTAMP</SPAN></SPAN>相同。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>用<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT 
CURRENT_TIMESTAMP</SPAN>子句不用<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON 
UPDATE</SPAN>子句，列为默认值使用当前的时间戳但是不自动更新。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>不用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>子句但用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON UPDATE 
CURRENT_TIMESTAMP</SPAN>子句，列有默认值<SPAN>0</SPAN>并自动更新。</P>
<P style="MARGIN: 0cm 0cm 0pt 72pt; TEXT-INDENT: -18pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">o<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>用常量<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>值，列有给出的 默认值。如果列有一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON UPDATE 
CURRENT_TIMESTAMP</SPAN>子句，它自动更新，否则不。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt">换句话说，你可以为初始值和自动更新的值使用当前的时间戳，或者其中一个使用，或者两个皆不使用。<SPAN>(</SPAN>例如，你可以指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON 
UPDATE</SPAN>来启用自动更新而不让列自动初始化）<SPAN>。</SPAN></P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON UPDATE</SPAN>子句中可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIMESTAMP</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIMESTAMP()</SPAN>或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOW()</SPAN>。它们均具有相同的效果。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">两个属性的顺序并不重要。如果一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列同时指定了<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON UPDATE</SPAN>，任何一个可以在另一个的前面。</P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">例子，下面这些语句是等效的：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (ts TIMESTAMP);</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (ts TIMESTAMP DEFAULT CURRENT_TIMESTAMP</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON UPDATE CURRENT_TIMESTAMP);</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (ts TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFAULT CURRENT_TIMESTAMP);</SPAN></PRE>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>要为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列而不是第<SPAN>1</SPAN>列指定自动默认或更新，必须通过将第<SPAN>1</SPAN>个<SPAN>TIMESTAMP</SPAN>列显式分配一个常量<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>值来禁用自动初始化和更新。<SPAN>(</SPAN>例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT 0</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT'2003-01-01 
00:00:00'</SPAN><SPAN>)</SPAN>。然后，对于其它<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列，规则与第<SPAN>1</SPAN>个<SPAN>TIMESTAMP</SPAN>列相同，例外情况是不能忽略<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ON 
UPDATE</SPAN>子句。如果这样做，则不会自动进行初始化或更新。</P>
<P style="MARGIN-LEFT: 36pt">例如：下面这些语句是等效的：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; ts1 TIMESTAMP DEFAULT 0,</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; ts2 TIMESTAMP DEFAULT CURRENT_TIMESTAMP</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ON UPDATE CURRENT_TIMESTAMP);</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; ts1 TIMESTAMP DEFAULT 0,</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; ts2 TIMESTAMP ON UPDATE CURRENT_TIMESTAMP</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFAULT CURRENT_TIMESTAMP);</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">可以对每个连接设置当前的时区，相关描述参见<A 
title="5.10.8.&nbsp;MySQL Server Time Zone Support" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#time-zone-support">5.10.8节，“MySQL服务器时区支持”</A>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值以<SPAN>UTC</SPAN>格式保存，存储时对当前的时区进行转换，检索时再转换回当前的时区。只要时区设定值为常量，便可以得到保存时的值。如果保存一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>值，应更改时区然后检索该值，它与你保存的值不同。这是因为在两个方向的转换中没有使用相同的时区。当前的时区可以用作<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">time_zone</SPAN>系统变量的值。</P>
<P>可以在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列的定义中包括<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>属性以允许列包含<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值。例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>(</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp; ts1 TIMESTAMP NULL DEFAULT NULL,</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp; ts2 TIMESTAMP NULL DEFAULT 0,</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp; ts3 TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>);</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">如果未指定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>属性，将列设置为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>设置则会将它设置为当前的时间戳。请注意允许<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列不会采用当前的时间戳，除非要么其 
默认值定义为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIMESTAMP</SPAN>，或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOW()</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIMESTAMP</SPAN>被插入到该列内。换句话说，只有使用如下定义创建，定义为 
<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列才会自动更新：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t (ts NULLDEFAULT CURRENT_TIMESTAMP)</SPAN>；</PRE>
<P>否则<SPAN>-</SPAN>也就是说，如果使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>而不是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEFAULT TIMESTAMP</SPAN>来定义<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>列，如下所示<SPAN>...</SPAN></P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t1 (ts NULL DEFAULT NULL);</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>CREATE TABLE t2 (ts NULL DEFAULT '0000-00-00 00:00:00');</SPAN></PRE>
<P><SPAN>...</SPAN>则必须显式插入一个对应当前日期和时间的值。例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>INSERT INTO t1 VALUES (NOW());</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>INSERT INTO t2 VALUES (CURRENT_TIMESTAMP);</SPAN></PRE></DIV></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=time></A>11.3.2.&nbsp;TIME类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2851158></A><A class=indexterm name=id2851167></A></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'HH:MM:SS'</SPAN>格式检索和显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值<SPAN>(</SPAN>或对于大的小时值采用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'HHH:MM:SS'</SPAN>格式<SPAN>)</SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值的范围可以从<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'-838:59:59'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'838:59:59'</SPAN>。小时部分会因此大的原因是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>类型不仅可以用于表示一天的时间<SPAN>(</SPAN>必须小于<SPAN>24</SPAN>小时<SPAN>)</SPAN>，还可能为某个事件过去的时间或两个事件之间的时间间隔<SPAN>(</SPAN>可以大于<SPAN>24</SPAN>小时，或者甚至为负<SPAN>)</SPAN>。</P>
<P>你可以用各种格式指定<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'D 
HH:MM:SS.fraction'</SPAN>格式的字符串。还可以使用下面任何一种“<SPAN 
class=quote>非严格</SPAN>”语法：<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">'HH:MM:SS.fraction'</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>'HH:MM:SS'</SPAN>、<SPAN>'HH:MM'</SPAN>、<SPAN>'D 
HH:MM:SS'</SPAN>、<SPAN>'D HH:MM'</SPAN>、<SPAN>'D HH'</SPAN></SPAN></SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'SS'</SPAN>。这里<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">D</SPAN>表示日，可以取<SPAN>0</SPAN>到<SPAN>34</SPAN>之间的值。请注意<SPAN>MySQL</SPAN>还不保存分数。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'HHMMSS'</SPAN>格式的没有间割符的字符串，假定是有意义的时间。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'101112'</SPAN>被理解为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'10:11:12'</SPAN>，但<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'109712'</SPAN>是不合法的<SPAN>(</SPAN>它有一个没有意义的分钟部分<SPAN>)</SPAN>，将变为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">HHMMSS</SPAN>格式的数值，假定是有意义的时间。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">101112</SPAN>被理解为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'10:11:12'</SPAN>。下面格式也可以理解：<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">SS</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>MMSS</SPAN>、<SPAN>HHMMSS</SPAN>、<SPAN>HHMMSS.fraction</SPAN></SPAN></SPAN>。请注意<SPAN>MySQL</SPAN>还不保存分数。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>函数返回的结果，其值适合<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>上下文，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CURRENT_TIME</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">对于指定为包括时间部分间割符的字符串的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值，如果时、分或者秒值小于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">10</SPAN>，则不需要指定两位数。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'8:3:2'</SPAN>与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'08:03:02'</SPAN>相同。</P>
<P>为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>列分配简写值时应注意。没有冒号，<SPAN>MySQL</SPAN>解释值时假定最右边的两位表示秒。<SPAN>(MySQL</SPAN>解释<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值为过去的时间而不是当天的时间）<SPAN>。</SPAN>例如，你可能认为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1112'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1112</SPAN>表示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'11:12:00'</SPAN><SPAN>(11</SPAN>点过<SPAN>12</SPAN>分<SPAN>)</SPAN>，但<SPAN>MySQL</SPAN>将它们解释为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:11:12'</SPAN><SPAN>(11</SPAN>分，<SPAN>12 
</SPAN>秒<SPAN>)</SPAN>。同样，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'12'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">12</SPAN><SPAN> </SPAN>被解释为 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:12'</SPAN>。相反，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值中使用冒号则肯定被看作当天的时间。也就是说，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'11:12'</SPAN>表示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'11:12:00'</SPAN>，而不是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:11:12'</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">超出<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>范围但合法的值被裁为范围最接近的端点。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'-850:00:00'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'850:00:00'</SPAN>被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'-838:59:59'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'838:59:59'</SPAN>。</P>
<P>无效<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>。请注意由于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>本身是一个合法<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN>值，只从表内保存的一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>值还不能说出原来的值是 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00:00:00'</SPAN>还是不合法的值。</P>
<H3 class=title><A name=year></A>11.3.3.&nbsp;YEAR类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2851517></A><A class=indexterm name=id2851526></A></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>类型是一个单字节类型用于表示年。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>以<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YYYY</SPAN>格式检索和显示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值。范围是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1901</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2155</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">可以指定各种格式的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>四位字符串，范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'1901'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'2155'</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>四位数字，范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1901</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2155</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>两位字符串，范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'99'</SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'69'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'70'</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'99'</SPAN>范围的值被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2000</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2069</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1999</SPAN>范围的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>两位整数，范围为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">99</SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">69</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">70</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">99</SPAN>范围的值被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2001</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2069</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1999</SPAN>范围的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值。请注意两位整数范围与两位字符串范围稍有不同，因为你不能直接将零指定为数字并将它解释为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2000</SPAN>。你必须将它指定为一个字符串<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'0'</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'00'</SPAN>或它被解释为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0000</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>函数返回的结果，其值适合<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>上下文，例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOW()</SPAN>。</P>
<P>非法<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值被转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0000</SPAN>。</P>
<H3 class=title><A 
name=y2k-issues></A>11.3.4.&nbsp;Y2K事宜和日期类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2851772></A><A class=indexterm name=id2851779></A>
<P 
style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>本身对于<SPAN>2000</SPAN>年<SPAN>(Y2K)</SPAN>是安全的<SPAN>(</SPAN>参见<A 
title="1.4.5.&nbsp;Year 2000 Compliance" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/introduction.html#year-2000-compliance">1.4.5节，“2000年兼容性”</A><SPAN>)</SPAN>，但输入给<SPAN>MySQL</SPAN>的值可能不安全。任何包含两位年值的输入都会令人模糊，因为世纪不知道。这些值必须解释为四位形式，因为<SPAN>MySQL</SPAN>内部使用四位来保存年。</P>
<P style="MARGIN: 0cm 0cm 0pt">对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN>、<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">DATE</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>TIMESTAMP</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>类型，<SPAN>MySQL</SPAN>使用以下规则解释含模糊年值的日期：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">00-69</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2000-2069</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">70-99</SPAN>范围的年值转换为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1970-1999</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">请记住这些规则只是合理猜测数据值表示什么。如果<SPAN>MySQL</SPAN>使用的启发不能产生正确的值，你应提供包含四位年值的确切输入。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ORDER BY</SPAN>可以正确排序有两位年的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>值。</P>
<P>部分函数如<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MIN()</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MAX()</SPAN>将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>转换为一个数字。这说明使用有两位年值的值，这些函数不能工作正确。在这种情况下的修复方法是将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN>转换为四位年格式或使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MIN(DATE_ADD(TIMESTAMP,INTERVAL 0 
DAYS))</SPAN>。</P></DIV></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=string-types></A>11.4.&nbsp;String类型</H2></DIV></DIV></DIV>
<DIV class=toc>
<DL>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#char">11.4.1. 
  CHAR和VARCHAR类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#binary-varbinary">11.4.2. 
  BINARY和VARBINARY类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#blob">11.4.3. 
  BLOB和TEXT类型<CODE class=literal></CODE></A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#enum">11.4.4. 
  ENUM类型</A></SPAN>
  <DT><SPAN class=section><A 
  href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#set">11.4.5. 
  SET类型</A></SPAN></DT></DL></DIV><A class=indexterm name=id2851927></A><A 
class=indexterm name=id2851937></A><A class=indexterm name=id2851944></A><A 
class=indexterm name=id2851953></A><A class=indexterm name=id2851962></A><A 
class=indexterm name=id2851974></A>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>字符串类型指<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">CHAR</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>VARCHAR</SPAN>、<SPAN>BINARY</SPAN>、<SPAN>VARBINARY</SPAN>、<SPAN>BLOB</SPAN>、<SPAN>TEXT</SPAN>、<SPAN>ENUM</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>。该节描述了这些类型如何工作以及如何在查询中使用这些类型。
<H3 class=title><A 
name=char></A>11.4.1.&nbsp;CHAR和VARCHAR类型</H3></DIV></DIV></DIV>
<P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同。在存储或检索过程中不进行大小写转换。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>类型声明的长度表示你想要保存的最大字符数。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(30)</SPAN>可以占用<SPAN>30</SPAN>个字符。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>列的长度固定为创建表时声明的长度。长度可以为从<SPAN>0</SPAN>到<SPAN>255</SPAN>的任何值。当保存<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>值时，在它们的右边填充空格以达到指定的长度。当检索到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>值时，尾部的空格被删除掉。在存储或检索过程中不进行大小写转换。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列中的值为可变长字符串。长度可以指定为<SPAN>0</SPAN>到<SPAN>65,535</SPAN>之间的值。<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>的最大有效长度由最大行大小和使用的字符集确定。整体最大长度是<SPAN>65,532</SPAN>字节）<SPAN>。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt">同<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>对比，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>值保存时只保存需要的字符数，另加一个字节来记录长度<SPAN>(</SPAN>如果列声明的长度超过<SPAN>255</SPAN>，则使用两个字节<SPAN>)</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>值保存时不进行填充。当值保存和检索时尾部的空格仍保留，符合标准<SPAN>SQL</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果分配给<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列的值超过列的最大长度，则对值进行裁剪以使其适合。如果被裁掉的字符不是空格，则会产生一条警告。如果裁剪非空格字符，则会造成错误<SPAN>(</SPAN>而不是警告<SPAN>)</SPAN>并通过使用严格<SPAN>SQL</SPAN>模式禁用值的插入。参见<A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P>
<P>下面的表显示了将各种字符串值保存到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(4)</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(4)</SPAN>列后的结果，说明了<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>之间的差别：</P>
<TABLE id=table3 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">值</SPAN></STRONG></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(4)</SPAN></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">存储需求</SPAN></STRONG></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(4)</SPAN></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">存储需求</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><SPAN 
      style="FONT-SIZE: 10pt">'</SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><SPAN 
      style="FONT-SIZE: 10pt">'</SPAN></SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'ab'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><SPAN 
      style="FONT-SIZE: 10pt">'ab</SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">&nbsp;&nbsp;</SPAN><SPAN 
      style="FONT-SIZE: 10pt">'</SPAN></SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'ab '</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN></P></TD>
    <TD>
      <P><SPAN>5</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcdefgh'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN></P></TD>
    <TD>
      <P><SPAN>5</SPAN>个字节</P></TD></TR></TBODY></TABLE>
<P style="MARGIN: 0cm 0cm 0pt">请注意上表中最后一行的值只适用<EM><SPAN 
style="FONT-FAMILY: 宋体">不使用严格模式</SPAN></EM>时；如果<SPAN>MySQL</SPAN>运行在严格模式，超过列长度不的值<I>不<EM><SPAN 
style="FONT-FAMILY: 宋体">保存</SPAN></EM></I>，并且会出现错误。</P>
<P>从<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(4)</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(4)</SPAN>列检索的值并不总是相同，因为检索时从<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>列删除了尾部的空格。通过下面的例子说明该差别：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE vc (v VARCHAR(4), c CHAR(4));</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 0 rows affected (0.02 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">INSERT INTO vc VALUES ('ab&nbsp; ', 'ab&nbsp; ');</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 1 row affected (0.00 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT CONCAT(v, '+'), CONCAT(c, '+') FROM vc;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+----------------+----------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| CONCAT(v, '+') | CONCAT(c, '+') |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+----------------+----------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| ab&nbsp; +&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ab+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+----------------+----------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>1 row in set (0.00 sec)</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">根据分配给列的字符集校对规则对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列中的值进行排序和比较。</P>
<P>请注意所有<SPAN>MySQL</SPAN>校对规则属于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">PADSPACE</SPAN>类。这说明在<SPAN>MySQL</SPAN>中的所有<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>值比较时不需要考虑任何尾部空格。例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE names (myname CHAR(10), yourname VARCHAR(10));</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 0 rows affected (0.09 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">INSERT INTO names VALUES ('Monty ', 'Monty ');</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 1 row affected (0.00 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT myname = 'Monty&nbsp; ', yourname = 'Monty&nbsp; ' FROM names;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------------------+----------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| myname = 'Monty&nbsp; ' | yourname = 'Monty&nbsp; ' |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------------------+----------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------------------+----------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>1 row in set (0.00 sec)</SPAN></PRE>
<P 
style="MARGIN: 0cm 0cm 0pt">请注意所有<SPAN>MySQL</SPAN>版本均如此，并且它不受<SPAN>SQL</SPAN>服务器模式的影响。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">对于尾部填充字符被裁剪掉或比较时将它们忽视掉的情形，如果列的索引需要唯一的值，在列内插入一个只是填充字符数不同的值将会造成复制键值错误。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR BYTE</SPAN>是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR BINARY</SPAN>的别名。这是为了保证兼容性。</P>
<P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ASCII</SPAN>属性为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>列分配<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">latin1</SPAN>字符集。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">UNICODE</SPAN>属性分配<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ucs2</SPAN>字符集。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A 
name=binary-varbinary></A>11.4.2.&nbsp;BINARY和VARBINARY类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2852527></A><A class=indexterm name=id2852536></A><A 
class=indexterm name=id2852545></A><A class=indexterm name=id2852558></A>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>类类似于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>，不同的是它们包含二进制字符串而不要非二进制字符串。也就是说，它们包含字节字符串而不是字符字符串。这说明它们没有字符集，并且排序和比较基于列值字节的数值值。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>允许的最大长度一样，如同<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>，不同的是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>的长度是字节长度而不是字符长度。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>数据类型不同于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR BINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR BINARY</SPAN>数据类型。对于后一种类型，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性不会将列视为二进制字符串列。相反，它致使使用列字符集的二元 
校对规则，并且列自身包含非二进制字符字符串而不是二进制字节字符串。例如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(5) BINARY</SPAN>被视为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(5) CHARACTER SET latin1 COLLATE 
latin1_bin</SPAN>，假定默认字符集是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">latin1</SPAN>。这不同于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY(5)</SPAN>，它保存<SPAN>5</SPAN>字节二进制字符串，没有字符集或 
校对规则。</P>
<P>当保存<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>值时，在它们右边填充值以达到指定长度。填充值是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN><SPAN>(</SPAN>零字节<SPAN>)</SPAN>。插入值时在右侧添加<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN><SPAN> 
on</SPAN>，并且选择时不删除尾部的字节。比较时所有字节很重要，包括<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ORDER BY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DISTINCT</SPAN>操作。比较时<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN>字节和空格是不同的，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN><SPAN>&lt;</SPAN>空格。</P>
<P style="MARGIN: 0cm 0cm 0pt">例如：对于一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY(3)</SPAN>列，当插入时 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a' </SPAN>变为 <SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">'a</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Courier New">&nbsp;</SPAN><SPAN 
style="FONT-SIZE: 10pt">\0'</SPAN></SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a\0'</SPAN>插入时变为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a\0\0'</SPAN>。当选择时两个插入的值均不更改。</P>
<P style="MARGIN: 0cm 0cm 0pt">对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>，插入时不填充字符，选择时不裁剪字节。比较时所有字节很重要，包括<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ORDER BY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DISTINCT</SPAN>操作。比较时<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN>字节和空格是不同的，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN><SPAN>&lt;</SPAN>空格。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">对于尾部填充字符被裁剪掉或比较时将它们忽视掉的情形，如果列的索引需要唯一的值，在列内插入一个只是填充字符数不同的值将会造成复制键值错误。</P>
<P>如果你计划使用这些数据类型来保存二进制数据并且需要检索的值与保存的值完全相同，应考虑前面所述的填充和裁剪特征。下面的例子说明了用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0x00</SPAN>填充的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>值如何影响列值比较：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE t (c BINARY(3));</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 0 rows affected (0.01 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">INSERT INTO t SET c = 'a';</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 1 row affected (0.01 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT HEX(c), c = 'a', c = 'a\0\0' from t;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------+---------+-------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| HEX(c) | c = 'a' | c = 'a\0\0' |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------+---------+-------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| 610000 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+--------+---------+-------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>1 row in set (0.09 sec)</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">如果检索的值必须与指定进行存储而没有填充的值相同，最好使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>数据类型。</P>
<P>创建表时，<SPAN>MySQL</SPAN>可以默默更改<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>列的类型。参见<A 
title="13.1.5.1.&nbsp;Silent Column Specification Changes" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/sql-syntax.html#silent-column-changes">13.1.5.1节，“沉寂的列规格变更”</A>。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=blob></A>11.4.3.&nbsp;BLOB和TEXT类型<CODE 
class=literal></CODE></H3></DIV></DIV></DIV><A class=indexterm 
name=id2852869></A><A class=indexterm name=id2852878></A><A class=indexterm 
name=id2852887></A><A class=indexterm name=id2852900></A><A class=indexterm 
name=id2852912></A><A class=indexterm name=id2852921></A>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>是一个二进制大对象，可以容纳可变数量的数据。有<SPAN>4</SPAN>种<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>类型：<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">TINYBLOB</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>BLOB</SPAN>、<SPAN>MEDIUMBLOB</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGBLOB</SPAN>。它们只是可容纳值的最大长度不同。</P>
<P style="MARGIN: 0cm 0cm 0pt">有<SPAN>4</SPAN>种<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类型：<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">TINYTEXT</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>TEXT</SPAN>、<SPAN>MEDIUMTEXT</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGTEXT</SPAN>。这些对应<SPAN>4</SPAN>种<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>类型，有相同的最大长度和存储需求。</P>
<P style="MARGIN: 0cm 0cm 0pt">参见<A 
title="11.5.&nbsp;Column Type Storage Requirements" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#storage-requirements">11.5节，“列类型存储需求”</A>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN><SPAN> 
</SPAN>列被视为二进制字符串<SPAN>(</SPAN>字节字符串<SPAN>)</SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列被视为非二进制字符串<SPAN>(</SPAN>字符字符串<SPAN>)</SPAN>。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列没有字符集，并且排序和比较基于列值字节的数值值。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列有一个字符集，并且根据字符集的 
校对规则对值进行排序和比较。</P>
<P style="MARGIN: 0cm 0cm 0pt">在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列的存储或检索过程中，不存在大小写转换。</P>
<P style="MARGIN: 0cm 0cm 0pt">当未运行在严格模式时，如果你为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列分配一个超过该列类型的最大长度的值值，值被截取以保证适合。如果截掉的字符不是空格，将会产生一条警告。使用严格<SPAN>SQL</SPAN>模式，会产生错误，并且值将被拒绝而不是截取并给出警告。参见<A 
title="5.3.2.&nbsp;The Server SQL Mode" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-sql-mode">5.3.2节，“SQL服务器模式”</A>。</P>
<P>在大多数方面，可以将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列视为能够足够大的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>列。同样，可以将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列视为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>在以下几个方面不同于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>当保存或检索<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列的值时不删除尾部空格。<SPAN>(</SPAN>这与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列相同）<SPAN>。</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt 36pt">请注意比较时将用空格对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>进行扩充以适合比较的对象，正如<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>对于<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列的索引，必须指定索引前缀的长度。对于<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>，前缀长度是可选的。参见<A 
title="7.4.3.&nbsp;Column Indexes" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/optimization.html#indexes">7.4.3节，“列索引”</A>。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列不能有 默认值。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONG</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONG VARCHAR</SPAN>对应<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMTEXT</SPAN>数据类型。这是为了保证兼容性。如果<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列类型使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY</SPAN>属性，将为列分配列字符集的二元 校对规则。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN>MySQL</SPAN>连接程序<SPAN>/ODBC</SPAN>将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>值定义为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGVARBINARY</SPAN>，将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>值定义为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGVARCHAR</SPAN>。</P>
<P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">由于<SPAN>BLOB</SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>值可能会非常长，使用它们时可能遇到一些约束：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>当排序时只使用该列的前<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_sort_length</SPAN>个字节。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_sort_length</SPAN>的 
默认值是<SPAN>1024</SPAN>；该值可以在启动<STRONG><SPAN 
style="FONT-FAMILY: 宋体">mysqld</SPAN></STRONG>服务器时使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">--max_sort_length</SPAN>选项进行更改。参见<A 
title="5.3.3.&nbsp;Server System Variables" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/database-administration.html#server-system-variables">5.3.3节，“服务器系统变量”</A>。</P>
<P style="MARGIN-LEFT: 36pt"><SPAN style="COLOR: windowtext">运行时增加</SPAN><SPAN 
style="FONT-SIZE: 10pt; COLOR: windowtext; FONT-FAMILY: 黑体">max_sort_length</SPAN><SPAN 
style="COLOR: windowtext">的值可以在排序或组合时使更多的字节有意义。任何客</SPAN>户端可以更改其会话<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_sort_length</SPAN>变量的值：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SET max_sort_length = 2000;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT id, comment FROM <I>tbl_name</I></SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; -&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">ORDER BY comment;</SPAN></B></SPAN></PRE>
<P style="MARGIN-LEFT: 36pt">当你想要使超过<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_sort_length</SPAN>的字节有意义，对含长值的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">GROUP BY</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ORDER 
BY</SPAN>的另一种方式是将列值转换为固定长度的对象。标准方法是使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SUBSTRING</SPAN>函数。例如，下面的语句对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">comment</SPAN>列的<SPAN>2000</SPAN>个字节进行排序：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT id, SUBSTRING(comment,1,2000) FROM <I>tbl_name</I></SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>&nbsp;&nbsp;&nbsp; -&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">ORDER BY SUBSTRING(comment,1,2000);</SPAN></B></SPAN></PRE>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>对象的最大大小由其类型确定，但在客户端和服务器之间实际可以传递的最大值由可用内存数量和通信缓存区大小确定。你可以通过更改<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_allowed_packet</SPAN>变量的值更改消息缓存区的大小，但必须同时修改服务器和客户端程序。例如，可以使用 
<STRONG><SPAN style="FONT-FAMILY: 宋体">mysql</SPAN></STRONG>和<STRONG><SPAN 
style="FONT-FAMILY: 宋体">mysqldump</SPAN></STRONG>来更改客户端的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">max_allowed_packet</SPAN>值。参见<A 
title="7.5.2.&nbsp;Tuning Server Parameters" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/optimization.html#server-parameters">7.5.2节，“调节服务器参数”</A>、<A 
title="8.3.&nbsp;mysql ― The MySQL Command-Line Tool" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/client-side-scripts.html#mysql">8.3节，“mysql：MySQL命令行工具”</A>和<A 
title="8.8.&nbsp;mysqldump ― A Database Backup Program" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/client-side-scripts.html#mysqldump">8.8节，“mysqldump：数据库备份程序”</A>。</P>
<P>每个<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>值分别由内部分配的对象表示。这与其它列类型形成对比，后者是当打开表时为每<SPAN>1</SPAN>列分配存储引擎。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=enum></A>11.4.4.&nbsp;ENUM类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2853488></A><A class=indexterm name=id2853497></A></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>是一个字符串对象，其值来自表创建时在列规定中显式枚举的一列值。</P>
<P>在某些情况下，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值也可以为空字符串<SPAN>(</SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN><SPAN>)</SPAN>或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果你将一个非法值插入<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN><SPAN>(</SPAN>也就是说，允许的值列之外的字符串<SPAN>)</SPAN>，将插入空字符串以作为特殊错误值。该字符串与“普通”空字符串不同，该字符串有数值值<SPAN>0</SPAN>。后面有详细讨论。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>如果将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列声明为允许<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值则为该列的一个有效值，并且 默认值为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>。如果<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列被声明为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NOT 
NULL</SPAN>，其默认值为允许的值列的第<SPAN>1</SPAN>个元素。</P>
<P>每个枚举值有一个索引：</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>来自列规定的允许的值列中的值从<SPAN>1</SPAN>开始编号。</P>
<P 
style="MARGIN: 0cm 0cm 0pt 36pt; TEXT-INDENT: -18pt"><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN>空字符串错误值的索引值是<SPAN>0</SPAN>。这说明你可以使用下面的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SELECT</SPAN>语句来找出分配了非法<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值的行：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt 36pt; COLOR: black; TEXT-INDENT: -18pt; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Symbol">・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT * FROM <I>tbl_name</I> WHERE <I>enum_col</I>=0;</SPAN></B></SPAN></PRE>
<P><SPAN>・<SPAN>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
</SPAN></SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值的索引是<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>。</P>
<P>例如，定义为<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>的列<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">('one'</SPAN><SPAN 
style="FONT-SIZE: 10pt">，<SPAN>'two'</SPAN>，<SPAN>'three')</SPAN></SPAN></SPAN>可以有下面所示任何值。还显示了每个值的索引：</P>
<TABLE id=table4 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">值</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">索引</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">''</SPAN></P></TD>
    <TD>
      <P><SPAN>0</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'one'</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'two'</SPAN></P></TD>
    <TD>
      <P><SPAN>2</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'three'</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN></P></TD></TR></TBODY></TABLE>
<P style="MARGIN: 0cm 0cm 0pt">枚举最多可以有<SPAN>65,535</SPAN>个元素。</P>
<P style="MARGIN: 0cm 0cm 0pt">当创建表时，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>成员值的尾部空格将自动被删除。</P>
<P>当检索时，保存在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列的值使用列定义中所使用的大小写来显示。请注意可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列分配字符集和 
校对规则。对于二进制或大小写敏感的校对规则，当为列分配值时应考虑大小写。</P>
<P>如果在数值上下文中检索一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值，将返回列值的索引。例如，你可以这样从<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列搜索数值值：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT <I>enum_col</I>+0 FROM <I>tbl_name</I>;</SPAN></B></SPAN></PRE>
<P>如果将一个数字保存到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列，数字被视为索引，并且保存的值是该索引对应的枚举成员。<SPAN>(</SPAN>但是，这不适合<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LOAD 
DATA</SPAN>，它将所有输入视为字符串）<SPAN>。</SPAN>不建议使用类似数字的枚举值来定义一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列，因为这很容易引起混淆。例如，下面的列含有字符串值<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">'0'</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>'1'</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'2'</SPAN>的枚举成员，但数值索引值为<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">1</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>2</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">3</SPAN>：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>numbers ENUM('0','1','2')</SPAN></PRE>
<P>根据枚举成员在列定义中列出的顺序对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值进行排序。<SPAN>(</SPAN>换句话说，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>值根据索引编号进行排序）<SPAN>。</SPAN>例如，对于<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">ENUM('a'</SPAN><SPAN 
style="FONT-SIZE: 10pt">，<SPAN>'b')</SPAN></SPAN></SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a'</SPAN>排在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'b'</SPAN>前面，但对于<SPAN 
style="FONT-FAMILY: 黑体"><SPAN style="FONT-SIZE: 10pt">ENUM('b'</SPAN><SPAN 
style="FONT-SIZE: 10pt">，<SPAN>'a')</SPAN></SPAN></SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'b'</SPAN>排在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a'</SPAN>前面。空字符串排在非空字符串前面，并且<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值排在所有其它枚举值前面。要想防止意想不到的结果，按字母顺序规定<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列。还可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">GROUP BY&nbsp; CAST(col AS 
CHAR)</SPAN>或<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">GROUP BY&nbsp; 
CONCAT(col)</SPAN>来确保按照词汇对列进行排序而不是用索引数字。</P>
<P>如果你想要确定一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>列的所有可能的值，使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SHOW COLUMNS FROM <I>tbl_name</I> LIKE 
<I>enum_col</I></SPAN>，并解析输出中第<SPAN>2</SPAN>列的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>定义。</P>
<H3 class=title><A name=set></A>11.4.5.&nbsp;SET类型</H3></DIV></DIV></DIV><A 
class=indexterm name=id2853953></A><A class=indexterm 
name=id2853962></A></DIV></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>是一个字符串对象，可以有零或多个值，其值来自表创建时规定的允许的一列值。指定包括多个<SPAN>SET</SPAN>成员的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列值时各成员之间用逗号<SPAN>(</SPAN>‘<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">,</SPAN>’<SPAN>)</SPAN>间隔开。这样<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>成员值本身不能包含逗号。</P>
<P>例如，指定为<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET('one', 'two') NOT 
NULL</SPAN>的列可以有下面的任何值：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>''</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>'one'</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>'two'</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>'one,two'</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>最多可以有<SPAN>64</SPAN>个不同的成员。</P>
<P style="MARGIN: 0cm 0cm 0pt">当创建表时，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>成员值的尾部空格将自动被删除。</P>
<P>当检索时，保存在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列的值使用列定义中所使用的大小写来显示。请注意可以为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列分配字符集和 
校对规则。对于二进制或大小写敏感的校对规则，当为列分配值时应考虑大小写。</P>
<P><SPAN>MySQL</SPAN>用数字保存<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值，所保存值的低阶位对应第<SPAN>1</SPAN>个<SPAN>SET</SPAN>成员。如果在数值上下文中检索一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值，检索的值的位设置对应组成列值的<SPAN>SET</SPAN>成员。例如，你可以这样从一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列检索数值值：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT <I>set_col</I>+0 FROM <I>tbl_name</I>;</SPAN></B></SPAN></PRE>
<P>如果将一个数字保存到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列中，数字中二进制表示中的位确定了列值中的<SPAN>SET</SPAN>成员。对于指定为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET('a','b','c','d')</SPAN>的列，成员有下面的十进制和二进制值：</P>
<TABLE id=table5 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN><STRONG><SPAN 
      style="FONT-FAMILY: 宋体">成员</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">十进制值</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">二进制值</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0001</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'b'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">2</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0010</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'c'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">4</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">0100</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'d'</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">8</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1000</SPAN></P></TD></TR></TBODY></TABLE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN></SPAN>&nbsp;</P>
<P style="MARGIN: 0cm 0cm 0pt">如果你为该列分配一个值<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">9</SPAN>，其二进制形式为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1001</SPAN>，因此第<SPAN>1</SPAN>个和第<SPAN>4</SPAN>个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值成员<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a'</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'d'</SPAN>被选择，结果值为 <SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a,d'</SPAN>。</P>
<P>对于包含多个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>元素的值，当插入值时元素所列的顺序并不重要。在值中一个给定的元素列了多少次也不重要。当以后检索该值时，值中的每个元素出现一次，根据表创建时指定的顺序列出元素。例如，假定某个列指定为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET('a','b','c','d')</SPAN>：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE myset (col SET('a', 'b', 'c', 'd'));</SPAN></B></SPAN></PRE>
<P>插入值<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">'a,d'</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>'d,a'</SPAN>、<SPAN>'a,d,d'</SPAN>、<SPAN>'a,d,a'</SPAN></SPAN></SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'d,a,d'</SPAN><SPAN>: </SPAN></P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">INSERT INTO myset (col) VALUES </SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>-&gt; ('a,d'), ('d,a'), ('a,d,a'), ('a,d,d'), ('d,a,d');</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 5 rows affected (0.01 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Records: 5&nbsp; Duplicates: 0&nbsp; Warnings: 0</SPAN></PRE>
<P>当检索时所有这些值显示为 <SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'a,d'</SPAN>：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT col FROM myset;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| col&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>5 rows in set (0.04 sec)</SPAN></PRE>
<P>如果将<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列设置为一个不支持的值，则该值被忽略并发出警告：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">INSERT INTO myset (col) VALUES ('a,d,d,s');</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 1 row affected, 1 warning (0.03 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SHOW WARNINGS;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+---------+------+------------------------------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| Level&nbsp;&nbsp; | Code | Message&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+---------+------+------------------------------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| Warning | 1265 | Data truncated for column 'col' at row 1 |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+---------+------+------------------------------------------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>1 row in set (0.04 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT col FROM myset;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| col&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a,d&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>6 rows in set (0.01 sec)</SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值按数字顺序排序。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN>值排在非<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NULL</SPAN><SPAN> </SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值的前面。</P>
<P>通常情况，可以使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FIND_IN_SET()</SPAN>函数或<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LIKE</SPAN>操作符搜索<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>值：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT * FROM <I>tbl_name</I> WHERE FIND_IN_SET('<I>value</I>',<I>set_col</I>)&gt;0;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT * FROM <I>tbl_name</I> WHERE <I>set_col</I> LIKE '%<I>value</I>%';</SPAN></B></SPAN></PRE>
<P style="MARGIN: 0cm 0cm 0pt">第<SPAN>1</SPAN>个语句找出<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">SET_col</SPAN></I></SPAN>包含<I><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">value</SPAN></I><SPAN> 
set</SPAN>成员的行。第<SPAN>2</SPAN>个类似，但有所不同：它在其它地方找出<I><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">set_col</SPAN></I>包含<I><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">value</SPAN></I>的行，甚至是在另一个<SPAN>SET</SPAN>成员的子字符串中。</P>
<P style="MARGIN: 0cm 0cm 0pt">下面的语句也是合法的：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT * FROM <I>tbl_name</I> WHERE <I>set_col</I> &amp; 1;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">SELECT * FROM <I>tbl_name</I> WHERE <I>set_col</I> = '<I>val1</I>,<I>val2</I>';</SPAN></B></SPAN></PRE>
<P 
style="MARGIN: 0cm 0cm 0pt">第<SPAN>1</SPAN>个语句寻找包含第<SPAN>1</SPAN>个<SPAN>set</SPAN>成员的值。第<SPAN>2</SPAN>个语句寻找一个确切匹配的值。应注意第<SPAN>2</SPAN>类的比较。将<SPAN>set</SPAN>值与<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>val1</I>,<I>val2</I>'</SPAN>比较返回的结果与同<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'<I>val2</I>,<I>val1</I>'</SPAN>比较返回的结果不同。指定值时的顺序应与在列定义中所列的顺序相同。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果想要为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>列确定所有可能的值，使用<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: Arial Unicode MS">SHOW COLUMNS FROM 
<I>tbl_name</I> LIKE <I>set_col</I></SPAN>并解析输出中第<SPAN>2</SPAN>列的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>定义。</P>
<H2 class=title style="CLEAR: both"><A 
name=storage-requirements></A>11.5.&nbsp;列类型存储需求</H2></DIV></DIV></DIV><A 
class=indexterm name=id2854549></A><A class=indexterm name=id2854559></A>
<P style="MARGIN: 0cm 0cm 0pt">根据类别列出了<SPAN>MySQL</SPAN>支持的每个列类型的存储需求。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MyISAM</SPAN>表中行的最大大小为<SPAN>65,534</SPAN>字节。每个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列 
账户只占其中的<SPAN>5</SPAN>至<SPAN>9</SPAN>个字节。</P>
<P style="MARGIN: 0cm 0cm 0pt">如果<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MyISAM</SPAN>表包括变长列类型，记录格式也是可变长度。当创建表时，在某些条件下，<SPAN>MySQL</SPAN>可以将一个列从变长类型改为固定长度的类型或反之亦然。详细信息参见<A 
title="13.1.5.1.&nbsp;Silent Column Specification Changes" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/sql-syntax.html#silent-column-changes">13.1.5.1节，“沉寂的列规格变更”</A>。</P>
<P><STRONG><SPAN>数值类型存储需求</SPAN></STRONG></P>
<TABLE id=table6 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">列类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">存储需求</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SMALLINT</SPAN></P></TD>
    <TD>
      <P><SPAN>2</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN><SPAN>, 
      </SPAN><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INTEGER</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN></P></TD>
    <TD>
      <P><SPAN>8</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT(<I>p</I>)</SPAN></P></TD>
    <TD>
      <P>如果<SPAN>0 &lt;= </SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">p</SPAN></I></SPAN><SPAN> &lt;= 
      24</SPAN>为<SPAN>4</SPAN>个字节<SPAN>, </SPAN>如果<SPAN>25 &lt;= </SPAN><SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">p</SPAN></I></SPAN><SPAN> &lt;= 
      53</SPAN>为<SPAN>8</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE 
      [PRECISION]</SPAN><SPAN>, item </SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">REAL</SPAN></P></TD>
    <TD>
      <P><SPAN>8</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL(<I>M</I>,<I>D</I>)</SPAN><SPAN>, 
      </SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC(<I>M</I>,<I>D</I>)</SPAN></P></TD>
    <TD>
      <P>变长；参见下面的讨论</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIT(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P>大约<SPAN>(</SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">M</SPAN></I></SPAN><SPAN>+7)/8</SPAN>个字节</P></TD></TR></TBODY></TABLE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN><SPAN>(</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN><SPAN>)</SPAN>的存储需求与具体版本有关：</P>
<P>使用二进制格式将<SPAN>9</SPAN>个十进制<SPAN>(</SPAN>基于<SPAN>10)</SPAN>数压缩为<SPAN>4</SPAN>个字节来表示<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>列值。每个值的整数和分数部分的存储分别确定。每个<SPAN>9</SPAN>位数的倍数需要<SPAN>4</SPAN>个字节，并且“剩余的”位需要<SPAN>4</SPAN>个字节的一部分。下表给出了超出位数的存储需求：</P>
<TABLE id=table7 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">剩余的</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">字节</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><B>位数</B></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">数目</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>0</SPAN></P></TD>
    <TD>
      <P><SPAN>0</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>1</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>2</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>3</SPAN></P></TD>
    <TD>
      <P><SPAN>2</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>4</SPAN></P></TD>
    <TD>
      <P><SPAN>2</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>5</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>6</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>7</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>8</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN>9</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN></P></TD></TR></TBODY></TABLE>
<P><STRONG><SPAN>日期和时间类型的存储需求</SPAN></STRONG></P>
<TABLE id=table8 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">列类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">存储需求</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATE</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DATETIME</SPAN></P></TD>
    <TD>
      <P><SPAN>8</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIMESTAMP</SPAN></P></TD>
    <TD>
      <P><SPAN>4</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TIME</SPAN></P></TD>
    <TD>
      <P><SPAN>3</SPAN>个字节</P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">YEAR</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN>个字节</P></TD></TR></TBODY></TABLE>
<P><STRONG><SPAN>字符串类型的存储需求</SPAN></STRONG></P>
<TABLE id=table9 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">列类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">存储需求</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>个字节，<SPAN>0 </SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">&lt;= <I>M</I> &lt;=</SPAN><SPAN> 
      255</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+1</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN style="FONT-SIZE: 10pt">L</SPAN></I><SPAN 
      style="FONT-SIZE: 10pt"> &lt;= <I>M </I></SPAN></SPAN>且<SPAN>0 
      </SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">&lt;= <I>M</I> 
      &lt;=</SPAN><SPAN> 65535(</SPAN>参见下面的注释<SPAN>)</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BINARY(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>个字节，<SPAN>0 </SPAN><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">&lt;= <I>M</I> &lt;=</SPAN><SPAN> 
      255</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARBINARY(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+1</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN style="FONT-SIZE: 10pt">L</SPAN></I><SPAN 
      style="FONT-SIZE: 10pt"> &lt;= <I>M </I></SPAN></SPAN>且<SPAN>0 
      </SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">&lt;= <I>M</I> 
      &lt;=</SPAN><SPAN> 255</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYBLOB</SPAN><SPAN>, 
      </SPAN><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYTEXT</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+1</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN> &lt; 
      2<SUP>8</SUP></SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN><SPAN>, 
      </SPAN><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+2</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN> &lt; 
      2<SUP>16</SUP></SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMBLOB</SPAN><SPAN>, 
      </SPAN><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMTEXT</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+3</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN> &lt; 
      2<SUP>24</SUP></SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGBLOB</SPAN><SPAN>, 
      </SPAN><SPAN 
    style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONGTEXT</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>+4</SPAN>个字节，其中<SPAN 
      style="FONT-FAMILY: 黑体"><I><SPAN 
      style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN> &lt; 
      2<SUP>32</SUP></SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM('<I>value1</I>','<I>value2</I>',...)</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN>或<SPAN>2</SPAN>个字节，取决于枚举值的个数<SPAN>(</SPAN>最多<SPAN>65,535</SPAN>个值<SPAN>)</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET('<I>value1</I>','<I>value2</I>',...)</SPAN></P></TD>
    <TD>
      <P><SPAN>1</SPAN>、<SPAN>2</SPAN>、<SPAN>3</SPAN>、<SPAN>4</SPAN>或者<SPAN>8</SPAN>个字节，取决于<SPAN>set</SPAN>成员的数目<SPAN>(</SPAN>最多<SPAN>64</SPAN>个成员<SPAN>)</SPAN></P></TD></TR></TBODY></TABLE>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类是变长类型。每个类型的存储需求取决于列值的实际长度<SPAN>(</SPAN>用前面的表中的<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">L</SPAN></I></SPAN>表示<SPAN>)</SPAN>，而不是该类型的最大可能的大小。例如，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(10)</SPAN>列可以容纳最大长度为<SPAN>10</SPAN>的字符串。实际存储需求是字符串<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">L</SPAN></I></SPAN><SPAN>)</SPAN>的长度，加上一个记录字符串长度的字节。对于字符串<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">'abcd'</SPAN>，<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">L</SPAN></I></SPAN>是<SPAN>4</SPAN>，存储需要<SPAN>5</SPAN>个字节。</P>
<P>对于<SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN>、<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类型，前面的表中的值<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">L</SPAN></I></SPAN>和<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">M</SPAN></I></SPAN>应解释为字符数目，并且列定义中的这些类型的长度表示字符数目。例如，要想保存一个<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYTEXT</SPAN>值需要<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">L</SPAN></I></SPAN>字符<SPAN>+ 1</SPAN>个字节。</P>
<P style="MARGIN: 0cm 0cm 0pt">要想计算用于保存具体<SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">CHAR</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>VARCHAR</SPAN></SPAN></SPAN>或者<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列值的字节数，需要考虑该列使用的字符集。在具体情况中，当使用<SPAN>Unicode</SPAN>时，必须记住所有<SPAN>Unicode</SPAN>字符使用相同的字节数。为了细分用于不同类<SPAN>Unicode</SPAN>字符使用的存储，参见<A 
title="10.5.&nbsp;Unicode Support" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/charset.html#charset-unicode">10.5节，“Unicode支持”</A>。</P>
<P><STRONG><SPAN>注释：</SPAN></STRONG><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列的<EM><SPAN 
style="FONT-FAMILY: 宋体">有效</SPAN></EM>最大长度为<SPAN>65,532</SPAN>字符。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NDBCLUSTER</SPAN>引擎只支持固定宽度的列。这说明<SPAN>MySQL</SPAN>簇中的表中的<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR</SPAN>列的行为如同类型<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR</SPAN><SPAN>(</SPAN>不同的是每个记录仍然有一个额外字节空间<SPAN>)</SPAN>。例如，在<SPAN>Cluster</SPAN>表中，声明为<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(100)</SPAN>的列中的<EM><SPAN 
style="FONT-FAMILY: 宋体">每个</SPAN></EM>记录存储时将占用<SPAN>101</SPAN>个字节，无论实际存储的记录中的字符串的长度为多少。</P>
<P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>类需要<SPAN> 
1</SPAN>、<SPAN>2</SPAN>、<SPAN>3</SPAN>或者<SPAN>4</SPAN>个字节来记录列值的长度，取决于该类的最大可能的长度。参见<A 
title="11.4.3.&nbsp;The BLOB and TEXT Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#blob">11.4.3节，“BLOB和TEXT类型<CODE 
class=literal></CODE>”</A>。</P>
<P>在<SPAN>NDB Cluster</SPAN>存储引擎中，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>和<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BLOB</SPAN>列的实施是不同的，其中<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列中的每个记录由两个单独部分组成。一个是固定大小<SPAN>(256</SPAN>字节<SPAN>)</SPAN>，并且实际上保存在原表中。另一个包括超出<SPAN>256</SPAN>字节的任何数据，保存在隐含的表中。第<SPAN>2</SPAN>个表中的记录总是<SPAN>2,000</SPAN>字节长。这说明如果<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">size</SPAN></I></SPAN><SPAN>&lt;= 256</SPAN>，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TEXT</SPAN>列的大小为<SPAN>256(</SPAN>其中<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">size</SPAN></I></SPAN>表示记录的大小<SPAN>)</SPAN>；否则，大小是<SPAN>256 
+</SPAN><SPAN style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">size</SPAN></I></SPAN><SPAN>+(2000</SPAN>C<SPAN>(</SPAN><SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">size</SPAN></I></SPAN>C<SPAN>256)%2000)</SPAN>。</P>
<P style="MARGIN: 0cm 0cm 0pt"><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">ENUM</SPAN>对象的大小由不同的枚举值的数目确定。枚举用一个字节，可以有<SPAN>255</SPAN>个可能的值。当枚举的值位于<SPAN>256</SPAN>和<SPAN>65,535</SPAN>之间时，用两个字节。参见<A 
title="11.4.4.&nbsp;The ENUM Type" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#enum">11.4.4节，“ENUM类型”</A>。</P>
<P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>对象的大小由不同的<SPAN>set</SPAN>成员的数量确定。如果<SPAN>set</SPAN>大小是<SPAN 
style="FONT-FAMILY: 黑体"><I><SPAN 
style="FONT-SIZE: 10pt">N</SPAN></I></SPAN>，对象占<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">(<I>N</I>+7)/8</SPAN>个字节，四舍五入到<SPAN>1</SPAN>、<SPAN>2</SPAN>、<SPAN>3</SPAN>、<SPAN>4</SPAN>或者<SPAN>8</SPAN>个字节。<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SET</SPAN>最多可以有<SPAN>64</SPAN>个成员。参见<A 
title="11.4.5.&nbsp;The SET Type" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#set">11.4.5节，“SET类型”</A>。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=choosing-types></A>11.6.&nbsp;选择正确的列类型</H2></DIV></DIV></DIV><A 
class=indexterm name=id2855781></A><A class=indexterm name=id2855792></A>
<P style="MARGIN: 0cm 0cm 0pt">为了优化存储，在任何情况下均应使用最精确的类型。例如，如果列的值的范围为从<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">1</SPAN>到<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">99999</SPAN>，若使用整数，则<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT 
UNSIGNED</SPAN>是好的类型。在所有可以表示该列值的类型中，该类型使用的存储最少。</P>
<P 
style="MARGIN: 0cm 0cm 0pt">用精度为<SPAN>65</SPAN>位十进制数<SPAN>(</SPAN>基于<SPAN>10)</SPAN>对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN><SPAN> 
</SPAN>列进行所有基本计算<SPAN>(</SPAN><SPAN style="FONT-FAMILY: 黑体"><SPAN 
style="FONT-SIZE: 10pt">+</SPAN><SPAN 
style="FONT-SIZE: 10pt">、<SPAN>-</SPAN>、<SPAN>*</SPAN>、<SPAN>/</SPAN></SPAN></SPAN><SPAN>)</SPAN>。参见<A 
title="11.1.1.&nbsp;Overview of Numeric Types" 
href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/column-types.html#numeric-type-overview">11.1.1节，“数值类型概述”</A>。</P>
<P>使用双精度操作对<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN>值进行计算。如果准确度不是太重要或如果速度为最高优先级，<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN>类型即足够了。为了达到高精度，可以转换到保存在<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN>中的定点类型。这样可以用<SPAN>64</SPAN>位整数进行所有计算，根据需要将结果转换回浮点值。</P></DIV>
<DIV class=section>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A 
name=other-vendor-column-types></A>11.7.&nbsp;使用来自其他数据库引擎的列类型</H2></DIV></DIV></DIV><A 
class=indexterm name=id2855869></A><A class=indexterm name=id2855879></A><A 
class=indexterm name=id2855890></A><A class=indexterm name=id2855900></A><A 
class=indexterm name=id2855912></A>
<P>为了使用由其它卖方编写的<SPAN>SQL</SPAN>执行代码，<SPAN>MySQL</SPAN>按照下表所示对列类型进行映射。通过这些映射，可以很容易地从其它数据库引擎将表定义导入到<SPAN>MySQL</SPAN>中：</P>
<TABLE id=table10 cellPadding=0 border=1>
  <TBODY>
  <TR>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">其它卖方类型</SPAN></STRONG></P></TD>
    <TD>
      <P><STRONG><SPAN style="FONT-FAMILY: 宋体">MySQL</SPAN><SPAN 
      style="FONT-FAMILY: 宋体">类型</SPAN></STRONG></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BOOL</SPAN><SPAN>,</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BOOLEAN</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">CHAR 
      VARYING(<I>M</I>)</SPAN></P></TD>
    <TD>
      <P><SPAN 
      style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">VARCHAR(<I>M</I>)</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DEC</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FIXED</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT4</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">FLOAT8</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DOUBLE</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT1</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">TINYINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT2</SPAN></P></TD>
    <TD>
      <P><SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">SMALLINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT3</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT4</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">INT8</SPAN></P></TD>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">BIGINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONG 
    VARBINARY</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMBLOB</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONG 
    VARCHAR</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMTEXT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">LONG</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMTEXT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MIDDLEINT</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">MEDIUMINT</SPAN></P></TD></TR>
  <TR>
    <TD>
      <P><SPAN style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">NUMERIC</SPAN></P></TD>
    <TD>
      <P><SPAN 
  style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DECIMAL</SPAN></P></TD></TR></TBODY></TABLE>
<P>在创建表时对列类型进行映射，然后原来的类型定义被丢弃。如果你使用其它卖方的类型创建一个表，然后执行<SPAN 
style="FONT-SIZE: 10pt; FONT-FAMILY: 黑体">DESCRIBE 
<I>tbl_name</I></SPAN>语句，<SPAN>MySQL</SPAN>使用等效的<SPAN>MySQL</SPAN>类型来报告表的结构。例如：</P><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">CREATE TABLE t (a BOOL, b FLOAT8, c LONG, d NUMERIC);</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>Query OK, 0 rows affected (0.08 sec)</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN style="FONT-FAMILY: Courier New">&nbsp;</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>mysql&gt; </SPAN><SPAN style="FONT-FAMILY: 黑体"><B><SPAN style="FONT-SIZE: 12pt">DESCRIBE t;</SPAN></B></SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+-------+---------------+------+-----+---------+-------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| Field | Type&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | Null | Key | Default | Extra |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+-------+---------------+------+-----+---------+-------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| a&nbsp;&nbsp;&nbsp;&nbsp; | tinyint(1)&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| b&nbsp;&nbsp;&nbsp;&nbsp; | double&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| c&nbsp;&nbsp;&nbsp;&nbsp; | mediumtext&nbsp;&nbsp;&nbsp; | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>| d&nbsp;&nbsp;&nbsp;&nbsp; | decimal(10,0) | YES&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp; | NULL&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>+-------+---------------+------+-----+---------+-------+</SPAN></PRE><PRE style="FONT-SIZE: 10pt; MARGIN: 0cm 0cm 0pt; COLOR: black; FONT-FAMILY: 黑体; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><SPAN>4 rows in set (0.00 sec)</SPAN></PRE></DIV></DIV>
<DIV>
<HR>

<P>这是MySQL参考手册的翻译版本，关于MySQL参考手册，<SPAN class=GramE>请访问</SPAN><A 
style="COLOR: blue; TEXT-DECORATION: underline; text-underline: single" 
href="http://dev.mysql.com/doc/mysql/en" target=_top>dev.mysql.com</A>。 
原始参考手册为英文版，与英文版参考手册相比，本翻译版可能不是最新的。</P></DIV>
<DIV class=navfooter>
<HR>

<TABLE width="100%" summary="Navigation footer">
  <TBODY>
  <TR>
    <TD align=left width="40%"><A accessKey=p 
      href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/charset.html">前一个</A>&nbsp;</TD>
    <TD align=middle width="20%">&nbsp;</TD>
    <TD align=right width="40%">&nbsp;<A accessKey=n 
      href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/functions.html">下一个</A></TD></TR>
  <TR>
    <TD vAlign=top align=left width="40%">第10章：字符集支持&nbsp;</TD>
    <TD align=middle width="20%"><A accessKey=h 
      href="http://doc.mysql.cn/mysql5/refman-5.1-zh.html-chapter/index.html">主页</A></TD>
    <TD vAlign=top align=right 
width="40%">&nbsp;第12章：函数和操作符</TD></TR></TBODY></TABLE></DIV></BODY></HTML>
